<?xml version="1.0" encoding="UTF-8"?>
<config version="3.1.6" id="7353be1782bf49af96e7923d0777ded5" rev="744b617a09f04502901ef73d191c6080" marker="314">
  <features>
    <optional>DYNAMIC_GROUPS</optional>
    <optional>USER_PROFILES</optional>
    <optional>GOOGLE_QUOTA</optional>
    <optional>SKIP_SUSPENDING_ADMINS</optional>
    <optional>SKIP_CALENDAR_RESOURCES</optional>
    <optional>INDEPENDENT_GROUP_SYNC</optional>
    <optional>MD5_PASSWORD</optional>
    <optional>GROUPS</optional>
    <optional>SUSPEND_USERS</optional>
    <optional>SHA1_PASSWORD</optional>
    <optional>ALIAS_SYNCHRONIZATION</optional>
    <optional>GIVEN_NAME</optional>
    <optional>GOOGLE_ORGUNITS</optional>
    <optional>NON_ADDRESS_PRIMARY_KEY</optional>
    <optional>BASE64_PASSWORD</optional>
    <optional>GROUP_OWNER</optional>
    <optional>GROUP_DESCRIPTION</optional>
    <optional>SKIP_SHARED_CONTACTS</optional>
    <optional>MULTIDOMAIN</optional>
    <optional>SKIP_EXISTING_PASSWORDS</optional>
    <optional>FAMILY_NAME</optional>
    <required>SUPPRESS_DOMAIN</required>
  </features>
  <logging>
    <defaultLogLevel>DEBUG</defaultLogLevel>
    <format>[%d{ISO8601}] [%t] [%p] [%C{3}] %m%n</format>
    <logFile>/root/sync.log</logFile>
    <maximumLogBytes>4294967296</maximumLogBytes>
    <logFileCount>1</logFileCount>
  </logging>
  <notification>
    <smtpRelay>smtp.gmail.com</smtpRelay>
    <smtpAuthUserName>alban.andrieu@nabla.mobi</smtpAuthUserName>
    <smtpAuthPasswordEncrypted>CNRjDXb+CBVlU3ziSYGZMw==</smtpAuthPasswordEncrypted>
    <fromAddress>alban.andrieu@nabla.mobi</fromAddress>
    <toAddress>alban.andrieu@free.fr</toAddress>
    <ignoreRetrievalInfo>false</ignoreRetrievalInfo>
    <ignoreRetrievalWarnings>false</ignoreRetrievalWarnings>
    <ignoreRetrievalErrors>false</ignoreRetrievalErrors>
  </notification>
  <eventLimits>
    <deleteUserLimitPCT>5</deleteUserLimitPCT>
    <suspendUserLimitPCT>5</suspendUserLimitPCT>
    <deleteGroupLimitPCT>5</deleteGroupLimitPCT>
    <deleteOrgunitLimitPCT>5</deleteOrgunitLimitPCT>
    <deleteSharedContactLimitPCT>5</deleteSharedContactLimitPCT>
    <deleteCalendarResourceLimitPCT>5</deleteCalendarResourceLimitPCT>
  </eventLimits>
  <maxCacheLifetime>691200</maxCacheLifetime>
  <plugins>
    <remote>
      <plugin class="com.google.usersyncapp.plugin.google.GooglePlugin">
        <config version="0.2">
          <domain>nabla.mobi</domain>
          <loginMethod>OAUTH2</loginMethod>
          <oAuth2RefreshToken>BW7go4AVlfH00AZl/k+BJicZdhmrAm+3V+fxORSSNKJ/rXuaZWFZq8CWif0JJeaA</oAuth2RefreshToken>
          <googleUsersSyncThreads>30</googleUsersSyncThreads>
          <googleProfilesSyncThreads>30</googleProfilesSyncThreads>
          <googleContactsSyncThreads>15</googleContactsSyncThreads>
          <nonAddressPrimaryKeyMapFile>nonAddressPrimaryKeyFile.tsv</nonAddressPrimaryKeyMapFile>
          <passwordTimestampFile>passwordTimestampCache.tsv</passwordTimestampFile>
        </config>
      </plugin>
    </remote>
    <local>
      <plugin class="com.google.usersyncapp.plugin.ldap.LDAPPlugin">
        <config version="0.2">
          <serverType>OPENLDAP</serverType>
          <connectMethod>STANDARD</connectMethod>
          <hostname>localhost</hostname>
          <port>389</port>
          <basedn>cn=admin,dc=ldap,dc=nabla,dc=mobi</basedn>
          <authType>ANONYMOUS</authType>
          <authUser>admin</authUser>
          <authCredentialsEncrypted>HhoTpYWilOycJSTmUI8N2g==</authCredentialsEncrypted>
          <nonAddressPrimaryKeyAttrName>uid</nonAddressPrimaryKeyAttrName>
          <emailAttrName>mail</emailAttrName>
          <aliasAttrName>proxyAddress</aliasAttrName>
          <dominoWhiteSpaceReplaceChar>.</dominoWhiteSpaceReplaceChar>
          <givenNameAttrName>cn</givenNameAttrName>
          <familyNameAttrName>sn</familyNameAttrName>
          <md5PasswordAttrName>Password</md5PasswordAttrName>
          <defaultPasswordEncrypted>HhoTpYWilOycJSTmUI8N2g==</defaultPasswordEncrypted>
          <generatedPasswordLength>8</generatedPasswordLength>
          <resultsPageSize>1000</resultsPageSize>
          <orgunits>
            <search>
              <priority>1</priority>
              <scope>SUBTREE</scope>
              <filter>(objectclass=organizationalunit)</filter>
              <descriptionAttrName />
            </search>
          </orgunits>
          <users>
            <search>
              <priority>1</priority>
              <suspended>false</suspended>
              <scope>SUBTREE</scope>
              <orgMappingAttribute />
              <filter>(objectClass=inetOrgPerson)</filter>
            </search>
          </users>
          <groups>
            <search>
              <priority>1</priority>
              <scope>OBJECT</scope>
              <filter>(objectClass=posixGroup)</filter>
              <memberAttrName>memberUid</memberAttrName>
              <groupIdentifierAttr>mail</groupIdentifierAttr>
              <userEmailAttribute>mail</userEmailAttribute>
            </search>
          </groups>
          <sharedContacts>
            <search>
              <priority>1</priority>
              <scope>SUBTREE</scope>
              <syncKeyAttrName>objectGuid</syncKeyAttrName>
              <filter>(objectclass=contact)</filter>
            </search>
          </sharedContacts>
          <userProfiles>
            <search>
              <priority>1</priority>
              <scope>SUBTREE</scope>
              <primaryEmailAddressAttrName>mail</primaryEmailAddressAttrName>
              <filter>(&amp;(objectclass=user)(objectcategory=person))</filter>
            </search>
          </userProfiles>
          <calendarResources>
            <search>
              <priority>1</priority>
              <resourceIdAttrName>objectGuid</resourceIdAttrName>
              <displayNameAttrName>[city]-[building]-[floor]-Boardroom-[roomnumber]</displayNameAttrName>
            </search>
          </calendarResources>
          <mailingLists />
        </config>
      </plugin>
    </local>
  </plugins>
</config>

