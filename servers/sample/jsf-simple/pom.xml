<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
	
        <parent>
		<groupId>com.nabla.project.servers.sample</groupId>
		<artifactId>sample</artifactId>
	    	<version>1.0.1-SNAPSHOT</version>
        </parent>
                	
	<modelVersion>4.0.0</modelVersion>	
  <!--<groupId>com.nabla.project.servers.sample</groupId>-->
  <artifactId>jsf-simple</artifactId>
  <packaging>war</packaging>
  <!--<version>1.0</version>-->
  <name>Java Server Faces Maven Webapp</name>
  
  <dependencies>
  	
  	<!-- http://download.java.net/maven/2 -->
	<dependency>
	  <groupId>com.sun.faces</groupId>
	  <artifactId>jsf-api</artifactId>
	  <version>${sun.jsf.version}</version>
	</dependency>
	<dependency>
	  <groupId>com.sun.faces</groupId>
	  <artifactId>jsf-impl</artifactId>
	  <version>${sun.jsf.version}</version>
	</dependency>
    
    <!-- http://repo1.maven.org/maven -->
    <dependency>
	  <groupId>javax.servlet</groupId>
	  <artifactId>jstl</artifactId>
	  <version>${jstl.version}</version>
	</dependency>

	<dependency>
	  <groupId>javax.servlet</groupId>
	  <artifactId>servlet-api</artifactId>
	  <version>${servlet.api.version}</version>
	</dependency>

	<dependency>
	  <groupId>javax.servlet.jsp</groupId>
	  <artifactId>jsp-api</artifactId>
	  <version>${jsp-api.version}</version>
	</dependency>
	
	<dependency>
	  <groupId>com.sun.el</groupId>
	  <artifactId>el-ri</artifactId>
	  <version>${el.ri.version}</version>
	</dependency>
 
  </dependencies>
  
  <build>
    <finalName>welcome</finalName>
    
    <plugins>
        		
	<plugin>
		<!-- Allow this web application to be started with the command : 'mvn 
			jetty:run-war' -->
		<groupId>org.eclipse.jetty</groupId>
		<artifactId>jetty-maven-plugin</artifactId>
		<configuration>
			<webAppConfig>
				<contextPath>/welcome</contextPath>
			</webAppConfig>
			<useTestClasspath>true</useTestClasspath>
			<connectors>
				<connector implementation="org.eclipse.jetty.server.nio.SelectChannelConnector">
					<port>${jetty.port}</port>
					<maxIdleTime>600000</maxIdleTime>
				</connector>
			</connectors>
			<!--
			<systemProperties>
				<systemProperty>
					<key>nabla.config</key>
					<value>../../config/dev</value>
				</systemProperty>
				<systemProperty>
					<key>nabla.data</key>
					<value>${data.dir}</value>
				</systemProperty>
			</systemProperties>
			-->
		</configuration>
	</plugin>				
			
	<!-- Allow this web application to be started with the command : 'mvn tomcat7:run' -->
	<plugin>
	    <groupId>org.apache.tomcat.maven</groupId>
	    <artifactId>tomcat7-maven-plugin</artifactId>
	    <configuration>
	    <!-- http port -->
	        <port>${tomcat.port}</port>
	        <path>/welcome</path>
	        <!--<contextFile>${basedir}/src/main/webapp/META-INF/context.xml</contextFile>-->
	        <addWarDependenciesInClassloader>true</addWarDependenciesInClassloader>
	        <!--
	        <systemProperties>
	            <java.security.auth.login.config>${basedir}/conf/jaas.config</java.security.auth.login.config>
	        </systemProperties>
	        -->
	        <url>${deploy.url}</url>
	        <username>${cargo.remote.user}</username>
	        <password>${cargo.remote.password}</password>
	        <addContextWarDependencies>true</addContextWarDependencies>
	        <addWarDependenciesInClassloader>true</addWarDependenciesInClassloader>
	        <configurationDir>${basedir}</configurationDir>
	    </configuration>
	    <dependencies>
	        <dependency>
			<groupId>com.nabla.project.servers.sample</groupId>
			<artifactId>jsf-simple</artifactId>
			<version>${project.version}</version>
			<type>war</type>    
	        </dependency>
	        <dependency>
	            <groupId>${jdbc.groupId}</groupId>
			<artifactId>${jdbc.client.artifactId}</artifactId>
			<version>${jdbc.version}</version>
	            <scope>runtime</scope>
	        </dependency>
	    </dependencies>
	</plugin>					
      </plugins>
  </build>
</project>
