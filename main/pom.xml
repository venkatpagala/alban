<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

        <parent>
                <groupId>com.nabla.project</groupId>
                <artifactId>customs</artifactId>
                <version>1.0.1-SNAPSHOT</version>
                <relativePath>../customs/pom.xml</relativePath>
        </parent>

        <modelVersion>4.0.0</modelVersion>
        <artifactId>main</artifactId>
        <name>Nabla Main</name>
        <packaging>pom</packaging>
        <description>The Main pom file is a superpom to centralize all third parties</description>
        <url>http://maven.nabla.mobi/dependencies/customs/main</url>

        <scm>
                <connection>scm:svn:http://alban.googlecode.com/svn/${project.svn.path}/main</connection>
                <developerConnection>scm:svn:https://alban.googlecode.com/svn/${project.svn.path}/main</developerConnection>
                <url>https://alban.googlecode.com/svn/${project.svn.path}/main</url>
                <tag>HEAD</tag>
        </scm>
        
        <ciManagement>
                <system>Jenkins</system>
                <url>${JOB_URL}</url>
        </ciManagement>
        
        <!-- ================= Default Properties ================= -->
        <properties>
                <invoker.skip>true</invoker.skip>

                <downloadSources>true</downloadSources>
                <createChecksum>true</createChecksum>
                <uniqueVersion>false</uniqueVersion>

                <maven.build.timestamp.format>yyyy-MM-dd HH:mm:ss</maven.build.timestamp.format>
                <!--
                        specifies the path to the current JRE_HOME environment use with
                        relative paths to get <jvm>${java.home}../bin/java.exe</jvm>
                -->
                <java.home>${env.JAVA_HOME}</java.home>

                <!-- Application settings -->
                <application.id>${project.parent.artifactId}</application.id> <!-- hint: same value as artifactId -->
                <!--<application.id>application</application.id>--> <!-- used by MDA -->
                <application.name>Nabla</application.name> <!-- used by MDA -->
                <!--<application.version>${project.version}</application.version>--> <!-- used by MDA -->
                <application.version>${product.version}</application.version> <!-- used by MDA -->
                <!--<application.package>com.nabla.backend</application.package>--> <!-- used by MDA -->
                <application.package>com.nabla.project</application.package> <!-- used by MDA -->
                <application.context.name>applicationContext-daos.xml</application.context.name>

                <!-- START overrided in cargo profile -->
                <server.domain>nabla</server.domain>
                <!-- START INFO USE BY MDA -->
                <!--
                <server.home>${jboss.home}</server.home>
                <server.name>${product.name}</server.name>
                <server.port>8180</server.port>
                <dataSource.name>jdbc/${application.id}</dataSource.name>
                <dataSource>java:/${dataSource.name}</dataSource>
                <webservice.host>localhost</webservice.host>
                <webservice.port>8180</webservice.port>
                -->
                <!-- END INFO USE BY MDA -->
                <!--
                <cargo.container>jboss4x</cargo.container>
                <cargo.container.home>${env.JBOSS_HOME}</cargo.container.home>
                <cargo.container.url>http://easynews.dl.sourceforge.net/sourceforge/jboss/jboss-${jboss.version}.zip</cargo.container.url>
                <cargo.host>localhost</cargo.host>
                <cargo.port>8180</cargo.port>
                <cargo.wait>false</cargo.wait>
                -->
                <!-- END overrided in cargo profile -->

                <unpack>false</unpack>
                <lumbermill.port>4445</lumbermill.port>
                <hudson.lumbermill.port>4431</hudson.lumbermill.port>
                <glassfish.port>8090</glassfish.port><!-- 4848 -->
                <!-- change jboss port at \server\default\deploy\jbossweb.sar\server.xml -->
                <jboss.port>8180</jboss.port>
                <jboss.remote.debug.port>8787</jboss.remote.debug.port>
                <jboss.htpp.debug.port>8181</jboss.htpp.debug.port> <!-- in Eclipse Local Monitor Port 8181 and Port 8180 -->

                <hudson.port>8070</hudson.port>
                <tomcat.port>8280</tomcat.port>
                <jetty.port>9090</jetty.port>
                <!--<jenkins.port>${tomcat.port}</jenkins.port>  http://localhost:8280/jenkins/ -->
                <jenkins.port>8380</jenkins.port>
                <apache.port>7070</apache.port>
                <varnish.port>80</varnish.port>
                <nginx.port>8480</nginx.port>
                <oracle.port>8080</oracle.port>
                <archiva.port>8010</archiva.port>
                <nexus.port>8081</nexus.port>
				<jira.port>8082</jira.port><!-- http://localhost:8082/ control port 8006 -->
				<fitnesse.port>8085</fitnesse.port>
				<confluence.port>8090</confluence.port><!-- http://localhost:8090/ control port 8000 -->
                <continuum.port>8020</continuum.port>
                <mysql.port>3306</mysql.port>
                <sonar.port>9000</sonar.port>
                <sonar.derby.port>1527</sonar.derby.port>
                <sonar.mysql.port>${mysql.port}</sonar.mysql.port>
                <fitness.port>9090</fitness.port>
                <bugzilla.mysql.port>${mysql.port}</bugzilla.mysql.port>
				<crowd.port>8095</crowd.port><!-- http://localhost:8095/crowd/ -->

                <apache-continuum.version>1.2.3</apache-continuum.version>

                <!--<project.target>C:\target</project.target>-->
                <project.target>/target</project.target>
                <project.includeidl>${project.target}</project.includeidl>
                <project.includexml>${project.target}</project.includexml>
                <project.includedictionaries>${project.target}</project.includedictionaries>
                <maven.build.generated>src/generated</maven.build.generated>
                <maven.build.src>${pom.basedir}/${maven.build.generated}</maven.build.src>
                <append.to.project.name>trunk</append.to.project.name>                
                <!-- Profile create-src-jars copies src JARs to the following directory -->
				<src.jars.dir>${project.target}/src</src.jars.dir>
        </properties>
        <dependencyManagement>
                <dependencies>
                        <!--
                        <dependency>
                                <groupId>com.nabla.project</groupId>
                                <artifactId>maven-gui-plugin</artifactId>
                                <version>${maven.gui.plugin.version}</version>
                                <scope>provided</scope>
                        </dependency>
                        -->

                        <!-- DATABASE DRIVER -->
                        <!-- allready in pom.xml in database -->
                        <!--
                        <dependency>
                                <groupId>${jdbc.groupId}</groupId>
                                <artifactId>${jdbc.artifactId}</artifactId>
                                <version>${jdbc.version}</version>
                        </dependency>
                        -->
                </dependencies>
        </dependencyManagement>

        <dependencies>
                <!--
                <dependency>
                        <groupId>log4j</groupId>
                        <artifactId>log4j</artifactId>
                        <scope>provided</scope>
                </dependency>
                -->

                <dependency>
                        <groupId>junit</groupId>
                        <artifactId>junit</artifactId>
                        <scope>test</scope>
                </dependency>
                <dependency>
                        <groupId>junitperf</groupId>
                        <artifactId>junitperf</artifactId>
                        <scope>test</scope>
                </dependency>
                <dependency>
                        <groupId>xmlunit</groupId>
                        <artifactId>xmlunit</artifactId>
                        <scope>test</scope>
                </dependency>

                <!-- Command lines parsing -->
                <!-- ONLY FOR BATCH
                <dependency>
                        <groupId>commons-cli</groupId>
                        <artifactId>commons-cli</artifactId>
                        <version>${commons.cli.version}</version>
                        <scope>compile</scope>
                        <exclusions>
                                <exclusion>
                                        <groupId>commons-logging</groupId>
                                        <artifactId>commons-logging</artifactId>
                                </exclusion>
                        </exclusions>
                </dependency>
                -->

                <!-- do not want it in timetracker app
                <dependency>
                        <groupId>commons-logging</groupId>
                        <artifactId>commons-logging</artifactId>
                        <version>${commons.logging.version}</version>
                        <scope>compile</scope>
                </dependency>
                <dependency>
                        <groupId>commons-lang</groupId>
                        <artifactId>commons-lang</artifactId>
                        <version>${commons.lang.version}</version>
                        <scope>compile</scope>
                </dependency>
                -->
                <!--
                        For J2EE <dependency> <groupId>org.apache.geronimo.specs</groupId>
                        <artifactId>geronimo-j2ee_1.4_spec</artifactId>
                        <version>${geronimo.version}</version> <scope>provided</scope>
                        </dependency> INSTEAD GERONIMO use
                -->

                <dependency>
                        <groupId>xerces</groupId>
                        <artifactId>xercesImpl</artifactId>
                        <version>${xerces.version}</version>
                        <scope>provided</scope>
                </dependency>
                <!--
                <dependency>
                        <groupId>xml-apis</groupId>
                        <artifactId>xml-apis</artifactId>
                        <version>${xml.apis.version}</version>
                        <scope>provided</scope>
                </dependency>
                -->
                <!-- batik avoid java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal -->
                <!--
                <dependency>
                        <groupId>batik</groupId>
                        <artifactId>batik-ext</artifactId>
                        <version>${batik.ext.version}</version>
                        <scope>compile</scope>
                </dependency>
                -->
                <dependency>
                        <groupId>xalan</groupId>
                        <artifactId>xalan</artifactId>
                        <version>${xalan.version}</version>
                        <scope>provided</scope>
                </dependency>

                <!-- timetracker
                <dependency>
                        <groupId>javax.servlet</groupId>
                        <artifactId>servlet-api</artifactId>
                        <version>${servlet.api.version}</version>
                        <scope>provided</scope>
                </dependency>
                <dependency>
                        <groupId>javax.servlet</groupId>
                        <artifactId>jsp-api</artifactId>
                        <version>${jsp.version}</version>
                        <scope>provided</scope>
                </dependency>
                -->
                <!--
                        <dependency> <groupId>org.openqa.selenium.client-drivers</groupId>
                        <artifactId>selenium-java-client-driver</artifactId>
                        <version>${selenium.version}</version> <scope>test</scope>
                        </dependency> <dependency>
                        <groupId>org.openqa.selenium.server</groupId>
                        <artifactId>selenium-server</artifactId>
                        <version>${selenium.version}</version> </dependency>
                -->
        </dependencies>

        <build>
                <directory>${target.dir}</directory>
                <!-- <finalName>${project.artifactId}-${project.version}-r${buildNumber}</finalName> -->
                <finalName>${project.artifactId}-${project.version}</finalName>
                <sourceDirectory>${basedir}/src/main/java</sourceDirectory>
                <scriptSourceDirectory>${basedir}/src/main/scripts</scriptSourceDirectory>
                <testSourceDirectory>${basedir}/src/test/java</testSourceDirectory>
                <outputDirectory>${basedir}/${target.dir}/classes</outputDirectory>
                <testOutputDirectory>${basedir}/${target.dir}/test-classes</testOutputDirectory>
                <defaultGoal>install</defaultGoal>

                <pluginManagement>
                        <plugins>
                                <plugin>
                                        <groupId>org.apache.maven.plugins</groupId>
                                        <artifactId>maven-eclipse-plugin</artifactId>
                                        <version>${maven.eclipse.plugin.version}</version>
                                        <configuration>
                                                <projectNameTemplate>[artifactId]-[version]-${append.to.project.name}</projectNameTemplate>
                                                <wtpmanifest>true</wtpmanifest>
                                                <wtpapplicationxml>true</wtpapplicationxml>
                                                <wtpversion>2.0</wtpversion>
                                                <ajdtVersion>1.5</ajdtVersion>
                                                <manifest>${basedir}/src/main/resources/META-INF/MANIFEST.MF</manifest>
                                                <useProjectReferences>true</useProjectReferences>
                                                <!-- by default download all sources when generating project files -->
                                                <downloadSources>true</downloadSources>
                                                <downloadJavadocs>true</downloadJavadocs>
                                                <buildOutputDirectory>${target.dir}/classes</buildOutputDirectory>
                                                <addVersionToProjectName>true</addVersionToProjectName>
                                                <outputDirectory>${basedir}/classes</outputDirectory>
                                                <workspace>${basedir}</workspace>
                                                <additionalProjectnatures>
                                                        <!--
                                                                <projectnature>org.springframework.ide.eclipse.core.springnature</projectnature>
                                                                <projectnature>org.hibernate.eclipse.console.hibernateNature</projectnature>
                                                                <projectnature>org.eclipse.jem.workbench.JavaEMFNature</projectnature>
                                                        -->
                                                        <!--
                                                                <projectnature>org.eclipse.wst.common.project.facet.core.nature</projectnature>
                                                                <projectnature>org.eclipse.jdt.core.javanature</projectnature>
                                                                <projectnature>org.eclipse.wst.common.modulecore.ModuleCoreNature</projectnature>
                                                                <projectnature>org.eclipse.jem.workbench.JavaEMFNature</projectnature>
                                                                <projectnature>com.atlassw.tools.eclipse.checkstyle.CheckstyleNature</projectnature>
                                                        -->
                                                        <projectnature>org.maven.ide.eclipse.maven2Nature</projectnature>
                                                </additionalProjectnatures>
                                                <additionalBuildcommands>
                                                        <!--
                                                                <buildcommand>org.springframework.ide.eclipse.core.springbuilder</buildcommand>
                                                        -->
                                                        <!--
                                                                <buildcommand>org.eclipse.jdt.core.javabuilder</buildcommand>
                                                                <buildcommand>org.eclipse.wst.common.project.facet.core.builder</buildcommand>
                                                                <buildcommand>org.eclipse.wst.validation.validationbuilder</buildcommand>
                                                                <buildcommand>com.atlassw.tools.eclipse.checkstyle.CheckstyleBuilder</buildcommand>
                                                        -->
                                                        <buildcommand>org.maven.ide.eclipse.maven2Builder</buildcommand>
                                                </additionalBuildcommands>
                                                <additionalConfig>
                                                	<!-- add UTF-8 -->
														<file>
															<name>.settings/org.eclipse.core.resources.prefs</name>
															<content>
															<![CDATA[eclipse.preferences.version=1${line.separator}encoding/<project>=${project.build.sourceEncoding}${line.separator}]]>
															</content>
														</file>                                                
                                                        <file>
                                                                <name>.checkstyle</name>
                                                                <!--redirect to to checkstyle_regles_nabla_eclipse.xml (must be imported by hand in eclipse -->
                                                                <location>project/maven-checkstyle.xml</location>
                                                        </file>
                                                        <file>
                                                                <name>.settings/org.eclipse.jdt.ui.prefs</name>
                                                                <location>project/org.eclipse.jdt.ui.prefs</location>
                                                        </file>
                                                        <file>
                                                                <name>.settings/org.eclipse.jdt.core.prefs</name>
                                                                <location>project/org.eclipse.jdt.core.prefs</location>
                                                        </file>
                                                </additionalConfig>
                                                <!--
                                                        <additionalProjectFacets> <jst.jsf>1.1</jst.jsf>
                                                        <jst.ejb.xdoclet>1.2.3</jst.ejb.xdoclet>
                                                        <jst.web.xdoclet>1.2.3</jst.web.xdoclet>
                                                        </additionalProjectFacets> <workspace>${basedir}</workspace>
                                                -->
                                                <!--<workspaceCodeStylesURL>http://svn.apache.org/repos/asf/maven/plugins/trunk/maven-eclipse-plugin/src/optional/eclipse-config/maven-styles.xml</workspaceCodeStylesURL>-->
                                                <!--DOES NOT WORK<workspaceCodeStylesURL>/project/jalopy_regles_nabla_eclipse.xml</workspaceCodeStylesURL>-->
                                                <sourceExcludes>
                                                        <sourceExclude>**/.svn/**</sourceExclude>
                                                        <sourceExclude>**/.ref</sourceExclude>
                                                        <sourceExclude>**/.exc</sourceExclude>
                                                        <sourceExclude>**/.log</sourceExclude>
                                                </sourceExcludes>
                                        </configuration>
                                        <dependencies>
                                                <!-- The file defined in the location is stored in this dependency -->
                                                <dependency>
                                                        <groupId>com.nabla.project</groupId>
                                                        <artifactId>build-tools</artifactId>
                                                        <version>1.0.1-SNAPSHOT</version>
                                                </dependency>
                                        </dependencies>
                                </plugin>
                                <plugin>
                                        <groupId>org.apache.maven.plugins</groupId>
                                        <artifactId>maven-idea-plugin</artifactId>
                                        <version>${maven.idea.plugin.version}</version>
                                        <configuration>
                                                <downloadSources>true</downloadSources>
                                                <downloadJavadocs>true</downloadJavadocs>
                                                <dependenciesAsLibraries>true</dependenciesAsLibraries>
                                                <jdkName>${jdkLevel}</jdkName>
                                                <useFullNames>false</useFullNames>
                                        </configuration>
                                </plugin>



                                <!-- Start tools -->

                                <!--
                                <plugin>
                                        <groupId>com.agilejava.docbkx</groupId>
                                        <artifactId>docbkx-maven-plugin</artifactId>
                                        <version>${docbkx.maven.plugin.version}</version>
                                        <dependencies>
                                                <dependency>
                                                        <groupId>net.sf.docbook</groupId>
                                                        <artifactId>docbook-xml</artifactId>
                                                        <version>5.0</version>
                                                        <type>pom</type>
                                                        <scope>runtime</scope>
                                                </dependency>
                                                <dependency>
                                                        <groupId>net.sf.docbook</groupId>
                                                        <artifactId>docbook-xsl</artifactId>
                                                        <version>1.74.0</version>
                                                        <type>pom</type>
                                                        <scope>runtime</scope>
                                                </dependency>
                                        </dependencies>
                                </plugin>
                                -->

                                <!--
                                        <plugin> <groupId>org.codehaus.mojo</groupId>
                                        <artifactId>xml-maven-plugin</artifactId>
                                        <version>1.0-beta-3</version> <executions> <execution>
                                        <phase>pre-site</phase> <goals> <goal>transform</goal> </goals>
                                        </execution> </executions> </plugin>
                                -->

                                <!--
                                        NoClassDefFoundError running maven plugins site, always shows 0%
                                        coverage anyway
                                -->                             
                        </plugins>
                </pluginManagement>

                <!-- Other Good tool quality code for http://sonar.hortis.ch/installation/ -->
                <!-- Plugin Configuration -->
                <plugins>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-plugin-plugin</artifactId>
                        </plugin>

                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-eclipse-plugin</artifactId>
                        </plugin>

                        <plugin>
                                <groupId>com.google.code.maven-replacer-plugin</groupId>
                                <artifactId>maven-replacer-plugin</artifactId>
                                <version>${maven.replacer.plugin.version}</version>
                                <executions>
                                        <execution>
                                                <phase>clean</phase>
                                                <goals>
                                                        <goal>replace</goal>
                                                </goals>
                                        </execution>
                                </executions>
                                <configuration>
                                        <ignoreMissingFile>true</ignoreMissingFile>
                                        <file>.classpath</file>
                                        <regex>false</regex>
                                        <replacements>
                                                <replacement>
                                                        <xpath>/classpath/classpathentry[@path='src/generated/main/java' and @kind='src' and @excluding='**']/@excluding</xpath>
                                                        <token>**</token>
                                                        <value></value>
                                                </replacement>
                                                <replacement>
                                                        <xpath>/classpath/classpathentry[@path='src/main/resources' and @kind='src' and @excluding='**']/@excluding</xpath>
                                                        <token>**</token>
                                                        <value></value>
                                                </replacement>
                                        </replacements>
                                </configuration>
                        </plugin>

                        <!--
                                Below you find a plugin that performs formatting after each compile
                                run finished successfully, disables logging of Javadoc related
                                messages, only displays messages with warning severity or higher,
                                activates the profile "test" during formatting and imports a code
                                convention from a shared server. Formatting is applied to all Java
                                source files of the project that are not located below the
                                "testdata" folder.
                        -->
                        <plugin>
                                <groupId>org.codehaus.mojo</groupId>
                                <artifactId>jalopy-maven-plugin</artifactId>
                                <configuration>
                                        <!-- UNIX", "DOS", "MAC", "DEFAULT" or "AUTO -->
                                        <fileFormat>AUTO</fileFormat>
                                        <!-- <convention>${home.dir}/build-tools/src/main/resources/project/jalopy_regles_nabla.xml</convention> -->
                                        <convention>project/jalopy_regles_nabla.xml</convention>
                                        <failOnError>false</failOnError>
                                        <excludes>
                                                <exclude>**/PortalAccessesManager.java</exclude>
                                                <exclude>**/BalanceComputing.java</exclude>
                                                <exclude>**/GramExpressionLexer.java</exclude>
                                                <exclude>**/SessionManager.java</exclude>
                                        </excludes>
                                </configuration>
                                <dependencies>
                                        <dependency>
                                                <groupId>com.nabla.project</groupId>
                                                <artifactId>build-tools</artifactId>
                                                <version>1.0.1-SNAPSHOT</version>
                                        </dependency>
                                </dependencies>
                        </plugin>

                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-doap-plugin</artifactId>
                                <configuration>
                                        <linkXref>true</linkXref>
                                        <includeTestSourceDirectory>true</includeTestSourceDirectory>
                                        <category>build-management</category>
                                        <language>Intercal</language>
                                </configuration>
                        </plugin>
                        <!--
                                <plugin> <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-docck-plugin</artifactId> <executions> <execution>
                                <configuration> <output>docck-results.txt</output> </configuration>
                                <goals> <goal>check</goal> </goals> </execution> </executions>
                                </plugin>
                        -->
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-scm-plugin</artifactId>
                                <configuration>
                                        <goals>install</goals>
                                        <!-- <username>username</username> <password>password</password> -->
                                        <startDate>YYYY-MM-DD</startDate>
                                        <endDate>YYYY-MM-DD</endDate>
                                        <startRevision>connection</startRevision>
                                        <endRevision>connection</endRevision>
                                        <tagName>tag</tagName>
                                </configuration>
                        </plugin>
                        <!--
                                <plugin> <groupId>com.agilejava.docbkx</groupId>
                                <artifactId>docbkx-maven-plugin</artifactId> <configuration>
                                <htmlStylesheet>rocks.css</htmlStylesheet>
                                <chunkedOutput>false</chunkedOutput>
                                <xincludeSupported>true</xincludeSupported>
                                <doubleSided>true</doubleSided>
                                <bodyFontFamily>Georgia</bodyFontFamily>
                                <bodyFontSize>9</bodyFontSize>
                                <monospaceFontFamily>Monaco</monospaceFontFamily>
                                <sansFontFamily>Calibri</sansFontFamily>
                                <titleFontFamily>Calibri</titleFontFamily> <entities> <entity>
                                <name>version</name> <value>${project.version}</value> </entity>
                                <entity> <name>thisyear</name> <value>2009</value> </entity>
                                </entities> </configuration> <executions> <execution> <goals>
                                <goal>generate-html</goal> <goal>generate-pdf</goal>
                                <goal>generate-manpages</goal> <goal>generate-eclipse</goal>
                                </goals> <phase>pre-site</phase>
                        --><!--<phase>generate-sources</phase>-->
                        <!--
                                </execution> </executions> <dependencies> <dependency>
                                <groupId>net.sf.docbook</groupId>
                                <artifactId>docbook-xml</artifactId> <version>5.0</version>
                                <type>pom</type> <scope>runtime</scope> </dependency> <dependency>
                                <groupId>net.sf.docbook</groupId>
                                <artifactId>docbook-xsl</artifactId> <version>1.74.0</version>
                                <type>pom</type> <scope>runtime</scope> </dependency>
                                </dependencies> </plugin>
                        -->

                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-compiler-plugin</artifactId>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-resources-plugin</artifactId>
                        </plugin>
                        <!-- comment because it is too verbose
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-enforcer-plugin</artifactId>
                        </plugin>
                        -->
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-surefire-plugin</artifactId>
                        </plugin>

                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-source-plugin</artifactId>
                        </plugin>
                        <!--
                                too long so i desactivate it <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-assembly-plugin</artifactId> </plugin>
                        -->
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-antrun-plugin</artifactId>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-release-plugin</artifactId>
                        </plugin>
                        <plugin>
                                <groupId>org.apache.maven.plugins</groupId>
                                <artifactId>maven-jar-plugin</artifactId>
                        </plugin>
						
                        <plugin>
                                <groupId>org.codehaus.mojo</groupId>
                                <artifactId>build-helper-maven-plugin</artifactId>
                                <version>${maven.build.helper.plugin.version}</version>
                                <executions>
                                        <execution>
                                                <id>add-source</id>
                                                <phase>generate-sources</phase>
                                                <goals>
                                                        <goal>add-source</goal>
                                                </goals>
                                                <configuration>
                                                        <sources>
                                                                <source>${basedir}/src/generated/main/java</source>
                                                                <source>${basedir}/src/generated/main/resources</source>
                                                                <!--
                                                                <source>${basedir}/src/main/java</source>
                                                                <source>${basedir}/src/main/resources</source>
                                                                -->
                                                                <!--<source>src/main/groovy</source>-->
                                                                <!--
                                                                <source>${basedir}/${target.dir}/generated-sources/antlr</source>
                                                                <source>${basedir}/${target.dir}/generated-sources/main/java</source>
                                                                <source>${basedir}/${target.dir}/generated-sources/main/resources</source>
                                                                -->
                                                                <!--<source>${basedir}/${target.dir}/generated-sources/test/java</source> -->
                                                                <!-- <source>${basedir}/${target.dir}/generated-sources/test/resources</source> -->
                                                        </sources>
                                                </configuration>
                                        </execution>
                                        <execution>
                                            <id>add-test-source</id>
                                            <phase>generate-test-sources</phase>
                                            <goals>
                                                <goal>add-test-source</goal>
                                            </goals>
                                            <configuration>
                                                <sources>
                                                    <source>src/test/groovy</source>
                                                </sources>
                                            </configuration>
                                        </execution>
                                </executions>
                        </plugin>
						<plugin>
							<groupId>org.pitest</groupId>
							<artifactId>pitest-maven</artifactId>
							<version>${maven.pitest.plugin.version}</version>
						</plugin>
                        <!--
                                <plugin> <groupId>org.codehaus.mojo</groupId>
                                <artifactId>jboss-packaging-maven-plugin</artifactId> <executions>
                                <execution> <id>buildsar</id> <phase>deploy</phase> <goals>
                                <goal>sar</goal> </goals> <configuration>
                                <deploymentDescriptorFile>${pom.basedir}/xml/jboss-service.xml</deploymentDescriptorFile>
                                </configuration> </execution> </executions> </plugin>
                        -->

                </plugins>

        </build>

        <profiles>
                <profile>
                        <id>default-tools.jar</id>
                        <activation>
                                <file>
                                        <exists>${java.home}/lib/tools.jar</exists>
                                </file>
                        </activation>
                        <dependencies>
                                <dependency>
                                        <groupId>com.sun</groupId>
                                        <artifactId>tools</artifactId>
                                        <version>${jdkVersion}</version>
                                        <scope>system</scope>
                                        <systemPath>${java.home}/lib/tools.jar</systemPath>
                                        <!-- <systemPath>C:\Program Files (x86)\Java\jdk1.5.0_22\lib\tools.jar</systemPath> -->
                                </dependency>
                        </dependencies>
                </profile>
                <profile>
                        <id>eclipse-folders</id>
                        <properties>
                                <target.dir>target-eclipse</target.dir>
                                <maven.javadoc.skip>true</maven.javadoc.skip>
                        </properties>
                </profile>
                <profile>
                        <id>site</id>
                        <properties>
                                <andromdapp.run.skip>true</andromdapp.run.skip>
                                <andromda.run.skip>true</andromda.run.skip>
                                <skipProcessing>true</skipProcessing>
                                <maven.test.skip>false</maven.test.skip>
                                <andromda.translation.test.skip>true</andromda.translation.test.skip>
                                <maven.javadoc.skip>false</maven.javadoc.skip>
                        </properties>
                </profile>
				<profile>
					<id>src-jars</id>
					<activation>
						<activeByDefault>false</activeByDefault>
					</activation>
					<build>
						<plugins>
						<!-- The next two plugins (maven-assembly-plugin and maven-dependency-plugin) 
							are used in the 'src-jars' profile to create extra JARs containing source 
							code. Modules that have files in src/main/java and/or src/test/java must 
							include the following snippet at the bottom of their POMs: <profiles> <profile> 
							<id>src-jars</id> <activation> <activeByDefault>false</activeByDefault> </activation> 
							<build> <plugins> <plugin> <artifactId>maven-assembly-plugin</artifactId> 
							</plugin> <plugin> <artifactId>maven-dependency-plugin</artifactId> </plugin> 
							</plugins> </build> </profile> </profiles> This will cause the following 
							extra JARs (containing the source files) to be created: <module-name>-0.0.1-SNAPSHOT-sources.jar 
							<module-name>-0.0.1-SNAPSHOT-test-sources.jar It will also cause the JARs 
							to be copied to the path specified by property ${src.jars.dir}, which has 
							a default value defined in this POM, but can be overridden on the command 
							line using -Dsrc.jars.dir=... NOTE: Currently the src-jars profile is only 
							intended to be used by the TopOffice release tool. If you want to use it, 
							then take into account the following: (1) There is no 'clean' functionality 
							associated with the src JARs: the src JARs of a module are not deleted from 
							${src.jars.dir} when you run 'mvn clean' for the module. (2) Even if a module 
							has no tests, a source zip file for the module is still created: it will 
							just be empty. -->
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-assembly-plugin</artifactId>
							<dependencies>
								<dependency>
									<groupId>com.reuters.jrisk</groupId>
									<artifactId>src-assembly-descriptors</artifactId>
									<version>3.0</version>
								</dependency>
							</dependencies>
							<executions>
								<execution>
									<id>create-src-jars</id>
									<phase>package</phase>
									<goals>
										<goal>single</goal>
									</goals>
									<configuration>
										<descriptorRefs>
											<descriptorRef>src-assembly-descriptor</descriptorRef>
											<descriptorRef>test-src-assembly-descriptor</descriptorRef>
										</descriptorRefs>
										<archive>
											<!-- NOTE: if you make any changes to this element, then make sure 
												you make the same changes in the same element of maven-jar-plugin and maven-war-plugin 
												in this file. -->
											<manifestEntries>
												<Specification-Vendor>Misys</Specification-Vendor>
												<Specification-Title>${project.artifactId}</Specification-Title>
												<Implementation-Title>${project.artifactId}</Implementation-Title>
												<!-- For information on the next attribute, see the comment accompanying 
													the same attribute in the maven-jar-plugin element in this file -->
												<Implementation-Version>${baseline}</Implementation-Version>
											</manifestEntries>
										</archive>
									</configuration>
								</execution>
							</executions>
						</plugin>
						<!-- See comment for previous plugin -->
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-dependency-plugin</artifactId>
							<executions>
								<execution>
									<id>copy-src-jars</id>
									<phase>install</phase>
									<goals>
										<goal>copy</goal>
									</goals>
									<configuration>
										<artifactItems>
											<artifactItem>
												<groupId>${project.groupId}</groupId>
												<artifactId>${project.artifactId}</artifactId>
												<version>${project.version}</version>
												<type>jar</type>
												<classifier>sources</classifier>
											</artifactItem>
											<artifactItem>
												<groupId>${project.groupId}</groupId>
												<artifactId>${project.artifactId}</artifactId>
												<version>${project.version}</version>
												<type>jar</type>
												<classifier>test-sources</classifier>
											</artifactItem>
										</artifactItems>
										<outputDirectory>${src.jars.dir}</outputDirectory>
									</configuration>
								</execution>
							</executions>
						</plugin>
						</plugins>
					</build>
				</profile>                
                <!-- see http://www.aheritier.net/maven-failsafe-sonar-and-jacoco-are-in-a-boat/ -->
				<profile>
				  <id>coverage</id>
				  <build>
					<plugins>
					  <plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-surefire-plugin</artifactId>
						<inherited>true</inherited>
						<configuration>
						  <argLine>${jacoco.agent.ut.arg} -Xms256m -Xmx512m -XX:MaxPermSize=512m -Djava.awt.headless=true -XX:-UseSplitVerifier</argLine>
						  <skip>${maven.test.skip}</skip>
						  <!-- Enable or disable Stop maven -->
						  <testFailureIgnore>${maven.test.failure.skip}</testFailureIgnore>
						  <!-- Specific to generate mapping between tests and covered code -->
						  <properties>
							<property>
							  <name>listener</name>
							  <value>org.sonar.java.jacoco.JUnitListener</value>
							</property>
						  </properties>
						  <!-- NOT needed instead remove jmock-junit4 because it does not work with jacoco
						  <excludes>
							 <exclude>**/*DaoTest.java</exclude>
						  </excludes>		 
						  --> 
						  <excludes>
							<exclude>**/*ITest*</exclude>
							<exclude>**/*STest*</exclude>
						  </excludes>
						  <systemPropertyVariables>
								<webdriver.chrome.driver>${webdriver.chrome.driver}</webdriver.chrome.driver>
								<webdriver.firefox.bin>${webdriver.firefox.bin}</webdriver.firefox.bin>
								<webdriver.safari.noinstall>true</webdriver.safari.noinstall>									
								<arquillian.launch>${arquillian}</arquillian.launch>
								<arquillian>${arquillian}</arquillian>
								<cucumber.options>
									  <![CDATA[--tags ${cucumber.tags} ${cucumber.features.dir}/${cucumber.feature}]]>
								</cucumber.options>				
						  </systemPropertyVariables>						  
						</configuration>
					  </plugin>
					  <plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-failsafe-plugin</artifactId>
						<configuration>
						  <argLine>${jacoco.agent.it.arg} -Xmx1024m -XX:MaxPermSize=256m</argLine>
						  <!-- Specific to generate mapping between tests and covered code -->
						  <properties>
							<property>
							  <name>listener</name>
							  <value>org.sonar.java.jacoco.JUnitListener</value>
							</property>
						  </properties>
						  <!-- Let's put failsafe reports with surefire to have access to tests failures/success reports in sonar -->
						  <reportsDirectory>${project.build.directory}/surefire-reports</reportsDirectory>					  
						</configuration>
					  </plugin>
					  <plugin>
						<groupId>org.jacoco</groupId>
						<artifactId>jacoco-maven-plugin</artifactId>
						<version>${jacoco.version}</version>
						<executions>
						  <!-- Prepares a variable, jacoco.agent.ut.arg, that contains the info to be passed to the JVM hosting the code
				being tested. -->
						  <execution>
							<id>prepare-ut-agent</id>
							<phase>process-test-classes</phase>
							<goals>
							  <goal>prepare-agent</goal>
							</goals>
							<configuration>
							  <destFile>${sonar.jacoco.reportPath}</destFile>
							  <propertyName>jacoco.agent.ut.arg</propertyName>
							  <append>true</append>
							</configuration>
						  </execution>
						  <!-- Prepares a variable, jacoco.agent.it.arg, that contains the info to be passed to the JVM hosting the code
				being tested. -->
						  <execution>
							<id>prepare-it-agent</id>
							<phase>pre-integration-test</phase>
							<goals>
							  <goal>prepare-agent</goal>
							</goals>
							<configuration>
							  <destFile>${sonar.jacoco.itReportPath}</destFile>
							  <propertyName>jacoco.agent.it.arg</propertyName>
							  <append>true</append>
							</configuration>
						  </execution>
						</executions>
						<configuration>
						  <excludes>
							<exclude>jsp/**/*.class</exclude>
							<exclude>**/*STest*</exclude>
						  </excludes>
						</configuration>						  
					  </plugin>
					</plugins>
				  </build>
				  <dependencies>
					<dependency>
					  <groupId>org.codehaus.sonar-plugins.java</groupId>
					  <artifactId>sonar-jacoco-listeners</artifactId>
					  <version>${sonar.jacoco.listeners.version}</version>
					  <scope>test</scope>					  
					</dependency>
				  </dependencies>
				</profile>					
				<!-- activate jacoco profile with coverage for arquillian to work -->
				<profile>
					<id>jacoco</id>
					<activation>
							<property>
									<name>!profile.activation</name>
							</property>
					</activation>					
					<dependencies>
						<dependency>
							<groupId>org.jboss.arquillian.extension</groupId>
							<artifactId>arquillian-jacoco</artifactId>
							<version>${org.jboss.arquillian.jacoco.version}</version>  
							<scope>test</scope>
						</dependency>
						<dependency>
							<groupId>org.jacoco</groupId>
							<artifactId>org.jacoco.core</artifactId>
							<version>${jacoco.version}</version> 
							<scope>provided</scope>
						</dependency>
					</dependencies>

					<build>
						<plugins>
							<!--
							<plugin>
								<groupId>org.codehaus.mojo</groupId>
								<artifactId>build-helper-maven-plugin</artifactId>
								<executions>
									<execution>
										<id>add-resources</id>
										<phase>generate-resources</phase>
										<goals>
											<goal>add-resource</goal>
										</goals>
										<configuration>
											<resources>
												<resource>
													<directory>../todo1/target/classes</directory>
													<targetPath>.</targetPath>
												</resource>
												<resource>
													<directory>../todo2/target/classes</directory>
													<targetPath>.</targetPath>
												</resource>
											</resources>
										</configuration>
									</execution>
									<execution>
										<id>add-sources</id>
										<phase>generate-sources</phase>
										<goals>
											<goal>add-source</goal>
										</goals>
										<configuration>
											<sources>
												<source>../todo1/src/main/java</source>
												<source>../todo2/src/main/java</source>
											</sources>
										</configuration>
									</execution>
								</executions>
							</plugin>
							-->
							<plugin>
								<groupId>org.jacoco</groupId>
								<artifactId>jacoco-maven-plugin</artifactId>
								<executions>
									<execution>
										<goals>
											<goal>prepare-agent</goal>
										</goals>
									</execution>
									<execution>
									   <id>report</id>
									   <phase>post-integration-test</phase>
									   <goals>
										   <goal>report</goal>
									   </goals>
									</execution>
								</executions>
							</plugin>
						</plugins>
					</build>
				</profile>
				<profile>
					<id>fitnesse</id>
					<build>
					  <plugins>
						<plugin>
						  <groupId>org.apache.maven.plugins</groupId>
						  <artifactId>maven-antrun-plugin</artifactId>
						  <version>${maven.antrun.plugin.version}</version>
						  <executions>
							<execution>
							  <id>start-fitnesse</id>
							  <phase>test</phase>
							  <configuration>
								<tasks>
								  <echo taskname="fitnesse" message="Starting FitNesse..." />
								  <java classname="fitnesseMain.FitNesseMain" classpathref="maven.runtime.classpath" fork="true">
									<arg line="-p 8000" />
									<arg line="-d ." />
								  </java>
								</tasks>
							  </configuration>
							  <goals>
								<goal>run</goal>
							  </goals>
							</execution>
						  </executions>
						</plugin>
					  </plugins>
					</build>
					<dependencies>
					  <dependency>
						<groupId>org.fitnesse.plugins</groupId>
						<artifactId>maven-classpath-plugin</artifactId>
						<version>${maven.classpath.fitnesse.version}</version>
						<scope>runtime</scope>
					  </dependency>
		
					<dependency>
						<groupId>org.fitnesse</groupId>
						<artifactId>fitnesse</artifactId>
						<version>${fitnesse.version}</version>
						<scope>runtime</scope>
					</dependency>						  
					</dependencies>				
			    </profile>				
				<profile>
					<id>checkstyle.report</id>
					<activation>
						<activeByDefault>false</activeByDefault>
					</activation>
					<build>
						<plugins>						
							<plugin>
								<groupId>org.apache.maven.plugins</groupId>
								<artifactId>maven-checkstyle-plugin</artifactId>
								<version>${maven.checkstyle.plugin.version}</version>					
								 <executions>
									<execution>
										<id>checkstyle</id>
										<phase>verify</phase>
										<goals>
											<goal>checkstyle-aggregate</goal>
										</goals>
									</execution>
								</executions>
							</plugin>
						</plugins>
					</build>
				</profile>				
				<profile>
					<id>clover.report</id>
					<activation>
						<activeByDefault>false</activeByDefault>
					</activation>
					<properties>
						<maven.test.skip>false</maven.test.skip>
						<maven.test.failure.skip>true</maven.test.failure.skip>
						<lastModifiedCheck>true</lastModifiedCheck> <!-- for mvn site to work with andromda-cartridge-plugin -->
						<sonar.java.coveragePlugin>clover</sonar.java.coveragePlugin>
						<sonar.surefire.reportsPath>${project.build.directory}/surefire-reports</sonar.surefire.reportsPath>
						<!--<sonar.surefire.reportsPath>${project.build.directory}/clover/surefire-reports</sonar.surefire.reportsPath>-->
						<sonar.clover.reportPath>${project.build.directory}/site/clover/clover.xml</sonar.clover.reportPath>
					</properties>
					<build>
						<plugins>
							<plugin>
								<groupId>org.apache.maven.plugins</groupId>
								<artifactId>maven-surefire-plugin</artifactId>
								<version>${maven.surefire.plugin.version}</version>
								<configuration>
									<skipTests>${maven.test.skip}</skipTests>
									<testFailureIgnore>${maven.test.failure.skip}</testFailureIgnore>
								</configuration>
							</plugin>
							<plugin>
								<groupId>com.atlassian.maven.plugins</groupId>
								<artifactId>maven-clover2-plugin</artifactId>
								<version>${maven.clover.plugin.version}</version>
								<configuration>
									<excludes>
										<exclude>**/*.groovy</exclude>
									</excludes>
								</configuration>								
								<executions>
									<execution>
										<id>clover-reporting</id>
										<phase>verify</phase>
										<goals>
											<goal>instrument</goal>
											<goal>check</goal>
											<goal>clover</goal>
										</goals>
									</execution>
								</executions>
							</plugin>
						</plugins>
					</build>
					 <reporting>
						 <plugins>
							 <plugin>
								 <groupId>com.atlassian.maven.plugins</groupId>
								 <artifactId>maven-clover2-plugin</artifactId>
								 <version>${maven.clover.plugin.version}</version>
							 </plugin>
						 </plugins>
					 </reporting>
				</profile>
				<profile>
						<id>clover.optimize</id>
						<build>
							<plugins>
								<plugin>
									<groupId>com.atlassian.maven.plugins</groupId>
									<artifactId>maven-clover2-plugin</artifactId>
									<version>${maven.clover.plugin.version}</version>
									<configuration>
										  <generateHistorical>true</generateHistorical>
										  <!--<snapshot>${user.home}/.clover/${groupId}-${artifactId}/clover.snapshot</snapshot>-->
										  <snapshot>${user.home}/.clover/atlassian-plugins-clover.snapshot</snapshot>
										  <singleCloverDatabase>true</singleCloverDatabase>
										  <historyDir>${user.home}/history/${project.artifact}</historyDir>
										  <includesAllSourceRoots>true</includesAllSourceRoots>
										  <generatePdf>true</generatePdf>
										  <generateXml>true</generateXml>
										  <generateHtml>true</generateHtml>
									</configuration>
									<executions>
										<execution>
											<id>clover-initialization</id>
											<!--<phase>initialize</phase>-->
											<goals>
												<goal>setup</goal>
												<goal>optimize</goal>
												<goal>snapshot</goal>
											</goals>
										</execution>
									</executions>
								</plugin>
							</plugins>
						</build>
					</profile>
					<profile>
						<id>clover.all</id>
						<build>
							<plugins>
								<plugin>
									<groupId>com.atlassian.maven.plugins</groupId>
									<artifactId>maven-clover2-plugin</artifactId>
									<version>${maven.clover.plugin.version}</version>
									<configuration>
										  <!--<targetPercentage>93%</targetPercentage>-->
										  <generateHistorical>true</generateHistorical>
										  <!--<snapshot>${user.home}/.clover/${groupId}-${artifactId}/clover.snapshot</snapshot>-->
										  <snapshot>${user.home}/.clover/atlassian-plugins-clover.snapshot</snapshot>
										  <singleCloverDatabase>true</singleCloverDatabase>
										  <historyDir>${user.home}/history/${project.artifact}</historyDir>
										  <generatePdf>true</generatePdf>
										  <generateXml>true</generateXml>
										  <generateHtml>true</generateHtml>
									</configuration>
									<executions>
										<execution>
											<id>clover-initialization</id>
											<!--<phase>initialize</phase>-->
											<goals>
												<goal>setup</goal>
												<goal>optimize</goal>
												<goal>snapshot</goal>
											</goals>
										</execution>
										<execution>
											<id>clover-reporting</id>
											<phase>verify</phase>
											<goals>
												<!-- Aggregate results from sub-modules and generate report-->
													<!--<goal>aggregate</goal>-->
												<goal>clover</goal>
												<goal>log</goal>
												<goal>check</goal>
											</goals>
										</execution>
									</executions>
								</plugin>
							</plugins>
						</build>
					</profile>
				<!--
				This profile is used to launch integration tests with the failsafe plugin
				 
				http://maven.apache.org/plugins/maven-failsafe-plugin/
				 
				-->
				<profile>
				  <id>run-its</id>
				  <build>
					<plugins>
					  <plugin>
						<groupId>org.apache.maven.plugins</groupId>
						<artifactId>maven-failsafe-plugin</artifactId>
						<version>${maven.failsafe.plugin.version}</version>
						<configuration>
							<includes>
								<include>**/*ITest*</include>
								<include>**/*STest*</include>
							</includes>
							<excludes>
								<exclude>**/RunCukesSTest.java</exclude> <!-- exclude cucumber tests as it does not work with jacoco -->												
							</excludes>															
						</configuration>						
						<!--
						<executions>
						  <execution>
							<id>integration-test</id>
							<phase>integration-test</phase>
							<goals>
							  <goal>integration-test</goal>
							</goals>
						  </execution>
						  <execution>
							<id>verify</id>
							<phase>verify</phase>
							<goals>
							  <goal>verify</goal>
							</goals>
						  </execution>
						</executions>
						-->
					  </plugin>
						<plugin>
							<groupId>org.apache.maven.plugins</groupId>
							<artifactId>maven-surefire-plugin</artifactId>
							<configuration>
								<skipTests>${maven.test.skip}</skipTests>
								<testFailureIgnore>${maven.test.failure.skip}</testFailureIgnore>
								<redirectTestOutputToFile>true</redirectTestOutputToFile>
								<trimStackTrace>false</trimStackTrace>
								<printSummary>true</printSummary>
								<!--
								<excludes>
									<exclude>**/*ITest*</exclude>
									<exclude>**/*STest*</exclude>
								</excludes>
								-->
								<systemPropertyVariables>
									<webdriver.chrome.driver>${webdriver.chrome.driver}</webdriver.chrome.driver>
									<webdriver.firefox.bin>${webdriver.firefox.bin}</webdriver.firefox.bin>
									<webdriver.safari.noinstall>true</webdriver.safari.noinstall>									
									<arquillian.launch>${arquillian}</arquillian.launch>
									<arquillian>${arquillian}</arquillian>
									<cucumber.options>
										  <![CDATA[--tags ${cucumber.tags} ${cucumber.features.dir}/${cucumber.feature}]]>
									</cucumber.options>									
								</systemPropertyVariables>
							</configuration>
							<!--
							<executions>
								<execution>
									<id>surefire-itest</id>
									<phase>integration-test</phase>
									<goals>
										<goal>test</goal>
									</goals>
									<configuration>
										<excludes>
											<exclude>none</exclude>
										</excludes>
										<includes>
											<include>**/*ITest*</include>
											<include>**/*STest*</include>
										</includes>
									</configuration>
								</execution>
							</executions>
							-->
						</plugin>					  
					</plugins>
				  </build>
				</profile>                
                <!-- ================= START MDA Profiles ================= -->
                <profile>
                        <id>uml14</id>
                        <properties>
                                <uml.type>uml14</uml.type>
                                <repo.type>netBeansMDR</repo.type>
                                <profile.type>xml.zip</profile.type>
                                <model.name>nabla</model.name>
                                <model.uri>jar:file:${pom.basedir}/../../model/src/main/uml/${uml.type}/modules/${model.name}.xml.zip!/${model.name}.xml</model.uri>
                                <!--<maven.andromda.model.uri>jar:file:${pom.basedir}/../model/src/main/uml/${uml.type}/${model.name}.xml.zip!/${model.name}.xml</maven.andromda.model.uri>-->
                        </properties>
                </profile>
                <profile>
                        <id>uml2</id>
                        <activation>
                                <property>
                                        <name>!profile.activation</name>
                                </property>
                        </activation>
                        <properties>
                                <uml.type>uml2</uml.type>
                                <repo.type>emf-uml22</repo.type>
                                <profile.type>uml2</profile.type>
                                <model.name>nabla</model.name>
                                <model.uri>file:${pom.basedir}/../../model/src/main/uml/${uml.type}/modules/${model.name}.uml</model.uri>
                                <!--<maven.andromda.model.uri>file:${pom.basedir}/../model/src/main/uml/${uml.type}/${model.name}.uml</maven.andromda.model.uri>-->
                        </properties>
                </profile>
                <!-- ================= END MDA Profiles ================= -->

                <!-- ================= START Environment Profiles ================= -->
                <profile>
                        <id>development</id>
                        <activation>
                                <property>
                                        <name>!profile.activation</name>
                                </property>
                        </activation>
                        <properties>
                                <!--<target.dir>target-eclipse</target.dir>-->
                                <environment>development</environment>
                                <!--
                                <jdbc.driver.jar /> <jdbc.driver /> <jdbc.url />
                                <jdbc.username /> <jdbc.password /> <jdbc.exception.sorter />
                                <webservice.host /> <webservice.port />
                                -->
                                <maven.javadoc.skip>true</maven.javadoc.skip>
                        </properties>

                </profile>
                <profile>
                        <id>integration</id>
                        <activation>
                                <property>
                                        <name>env</name>
                                        <value>int</value>
                                </property>
                        </activation>
                        <properties>
                                <environment>integration</environment>
                                <maven.javadoc.skip>false</maven.javadoc.skip>
                        </properties>                        
                        <build>
                                <plugins>
                                        <plugin>
                                            <groupId>org.apache.maven.plugins</groupId>
                                            <artifactId>maven-compiler-plugin</artifactId>
                                            <version>${maven.compiler.plugin.version}</version>
                                            <configuration>
                                                <optimize>true</optimize>
                                                <debug>true</debug>
                                            </configuration>
                                        </plugin>
                                        <!-- Automatically attach sources to build artifact as artifact-version-sources.jar
                                                and deploy to local repository -->
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-source-plugin</artifactId>
                                                <version>${maven.source.plugin.version}</version>
                                                <inherited>true</inherited>
                                                <configuration>
                                                        <includePom>true</includePom>
                                                </configuration>
                                                <executions>
                                                        <execution>
                                                                <id>bundle-sources</id>
                                                                <phase>package</phase>
                                                                <goals>
                                                                        <!-- produce source artifact for main project sources -->
                                                                        <goal>jar</goal>

                                                                        <!-- produce source artifact for project test sources -->
                                                                        <goal>test-jar</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-javadoc-plugin</artifactId>
                                                <version>${maven.javadoc.plugin.version}</version>
                                                <executions>
                                                        <execution>
                                                                <id>attach-javadocs</id>
                                                                <phase>post-integration-test</phase>
                                                                <goals>
                                                                        <goal>jar</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-site-plugin</artifactId>
                                                <version>${maven.site.plugin.version}</version>
                                                <executions>
                                                        <execution>
                                                                <id>attach-descriptor</id>
                                                                <goals>
                                                                        <goal>attach-descriptor</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                                <configuration>
                                                        <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
                                                        <outputEncoding>${project.build.sourceEncoding}</outputEncoding>

                                                        <locales>en</locales>
                                                        <!--<locales>en,fr</locales> -->
                                                        <excludeModules>build-tools</excludeModules>
                                                        <excludeModules>skin</excludeModules>
                                                        <!--<siteDirectory>${basedir}/site/src/site</siteDirectory>-->
                                                        <port>${server.port}</port>

                                                        <reportPlugins>
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-project-info-reports-plugin</artifactId>
                                                                        <version>${maven.project.info.reports.plugin.version}</version>
                                                                        <configuration>
                                                                                <dependencyDetailsEnabled>false</dependencyDetailsEnabled>
                                                                                <dependencyLocationsEnabled>false</dependencyLocationsEnabled>
                                                                        </configuration>
                                                                </plugin>
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-plugin-plugin</artifactId>
                                                                        <version>${maven.plugin.plugin.plugin.version}</version>
                                                                </plugin>
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-surefire-report-plugin</artifactId>
                                                                        <version>${maven.surefire.plugin.version}</version>
                                                                        <!--
                                                                        <configuration>
                                                                                <aggregate>true</aggregate>
                                                                        </configuration>
                                                                        -->
                                                                </plugin>

                                                                <!-- Add this plug-ins only if you use SCM -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-changes-plugin</artifactId>
                                                                        <version>${maven.changes.plugin.version}</version>
                                                                        <reportSets>
                                                                                <reportSet>
                                                                                        <reports>
                                                                                                <report>changes-report</report>
                                                                                                <!-- Uncomment if using JIRA -->
																								<!--report>jira-report</report-->
                                                                                        </reports>
                                                                                </reportSet>
                                                                        </reportSets>
                                                                        <configuration>
                                                                                <columnNames>Key,Type,Summary,Assignee,Status,Resolution,Priority,Component</columnNames>
                                                                                <sortColumnNames>Key</sortColumnNames>
                                                                        </configuration>
                                                                </plugin>
                                                                <!-- Add this plug-ins only if you use SCM -->

                                                                <!-- Developer activity (last 6 months) -->
                                                                <!-- error when repo is offline : Unable to connect to a repository at URL
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-changelog-plugin</artifactId>
                                                                        <version>${maven.changelog.plugin.version}</version>
                                                                        <reportSets>
                                                                                <reportSet>
                                                                                        <id>dual-report</id>
                                                                                        <configuration>
                                                                                                <type>range</type>
                                                                                                <range>90</range>
                                                                                                <dateFormat>yyyy-MM-dd HH:mm:ss</dateFormat>
                                                                                        </configuration>
                                                                                        <reports>
                                                                                                <report>changelog</report>
                                                                                                <report>file-activity</report>
                                                                                                <report>dev-activity</report>
                                                                                        </reports>
                                                                                </reportSet>
                                                                        </reportSets>
                                                                </plugin>
                                                                -->
                                                                
                                                                <!-- *** GENERATION JAVADOC *** -->
                                                                <!-- Javadoc settings -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-javadoc-plugin</artifactId>
                                                                        <version>${maven.javadoc.plugin.version}</version>
                                                                        <reportSets>
                                                                                <reportSet>
                                                                                        <id>non-aggregate</id>
                                                                                        <configuration>
                                                                                                <!-- Specific configuration for the non aggregate report -->
                                                                                                <doctitle>Nabla API for ${project.name} ${project.version}</doctitle>
                                                                                                <windowtitle>Nabla API for ${project.name} ${project.version}</windowtitle>
                                                                                                <testDoctitle>Nabla Test API for ${project.name} ${project.version}</testDoctitle>
                                                                                                <testWindowtitle>Nabla Test API for ${project.name} ${project.version}</testWindowtitle>
                                                                                        </configuration>
                                                                                        <reports>
                                                                                                <report>javadoc</report>
                                                                                                <report>test-javadoc</report>
                                                                                        </reports>
                                                                                </reportSet>
                                                                                <!-- TODO deactivate if mvn site is too slow -->
                                                                                <!--
                                                                                <reportSet>
                                                                                        <id>aggregate</id>
                                                                                        <configuration>
                                                                                                <doctitle>Nabla Aggregate API for ${project.name} ${project.version}</doctitle>
                                                                                                <windowtitle>Nabla Aggregate API for ${project.name} ${project.version}</windowtitle>
                                                                                                <testDoctitle>Nabla Aggregate Test API for ${project.name} ${project.version}</testDoctitle>
                                                                                                <testWindowtitle>Nabla Aggregate Test API for ${project.name} ${project.version}</testWindowtitle>
                                                                                                <tags>
                                                                                                        <tag>
                                                                                                                <name>date</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>date</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>version.interne</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>version interne</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>todo</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>To Do:</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>note</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>Note:</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>opt</name>
                                                                                                                <placement>X</placement>
                                                                                                                <head>opt:</head>
                                                                                                        </tag>
                                                                                                </tags>
                                                                                        </configuration>
                                                                                        <reports>
                                                                                                <report>aggregate</report>
                                                                                                <report>test-aggregate</report>
                                                                                        </reports>
                                                                                </reportSet>
                                                                                -->
                                                                        </reportSets>
                                                                        <configuration>
                                                                                <!-- Default configuration for all reports -->
                                                                                <excludePackageNames>*.ejb.*</excludePackageNames>
                                                                                <groups>
                                                                                        <group>
                                                                                                <title>Database</title>
                                                                                                <packages>${application.package}.db*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Model</title>
                                                                                                <packages>${application.package}.model*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Uml</title>
                                                                                                <packages>${application.package}.uml.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Application</title>
                                                                                                <packages>${application.package}.application.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Validation</title>
                                                                                                <packages>${application.package}.validation.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Service</title>
                                                                                                <packages>${application.package}.service.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Realtime Service</title>
                                                                                                <packages>${application.package}.realtime.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Corba</title>
                                                                                                <packages>${application.package}.corba.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Tool</title>
                                                                                                <packages>${application.package}.tool.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Common Service</title>
                                                                                                <packages>${application.package}.common.service*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Common</title>
                                                                                                <packages>${application.package}.common.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Utils</title>
                                                                                                <packages>${application.package}.utils.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Mask</title>
                                                                                                <packages>${application.package}.mask.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Mask implementation</title>
                                                                                                <packages>${application.package}.mask_impl.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Gui</title>
                                                                                                <packages>${application.package}.gui.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Choice</title>
                                                                                                <packages>${application.package}.choice.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Examples</title>
                                                                                                <packages>com.nabla.samples.*:com.nabla.demo.*:org.andromda.test.*</packages>
                                                                                        </group>
                                                                                </groups>

																				<stylesheetfile>project/javadoc-stylesheet.css</stylesheetfile>
                                                                                <!--<stylesheet>maven</stylesheet>-->
                                                                                <!--
                                                                                        <minmemory>128m</minmemory> <maxmemory>512m</maxmemory>
                                                                                -->
                                                                                <!--
                                                                                <minmemory>128m</minmemory>
                                                                                <maxmemory>2g</maxmemory>
                                                                                <maxmemory>512m</maxmemory>
                                                                                <maxmemory>1548m</maxmemory>
                                                                                -->
                                                                                <!--
																				<show>package</show>
																				<show>private</show>
																				--> 				
																				<show>public</show>
                                                                                <version>true</version>
                                                                                <javadocVersion>${jdkLevel}</javadocVersion>
                                                                                <failOnError>false</failOnError>
                                                                                <linksource>true</linksource>
                                                                                <serialwarn>true</serialwarn>
                                                                                <detectLinks>false</detectLinks>
                                                                                <detectOfflineLinks>false</detectOfflineLinks>

                                                                                <charset>${project.build.sourceEncoding}</charset>
                                                                                <docencoding>${project.build.sourceEncoding}</docencoding>
                                                                                <encoding>${project.build.sourceEncoding}</encoding>

                                                                                <!--
                                                                                <doclet>gr.spinellis.umlgraph.doclet.UmlGraphDoc</doclet>
                                                                                <docletArtifact>
                                                                                        <groupId>gr.spinellis</groupId>
                                                                                        <artifactId>UmlGraph</artifactId>
                                                                                        <version>${gr.spinellis.UmlGraph.version}</version>
                                                                                </docletArtifact>
                                                                                <additionalparam> -inferrel -inferdep -quiet -hide java.* -hide
                                                                                        com.nabla.gui.* -collpackages java.util.* -collpackages
                                                                                        com.nabla.logical.*
                                                                                        -collpackages
                                                                                        com.nabla.utils.* -qualify
                                                                                        -postfixpackage
                                                                                        -nodefontsize 9 -nodefontpackagesize 7
                                                                                        -outputencoding utf8</additionalparam>
                                                                                <excludePackageNames>com.nabla.andromda.cartridges.technical.karma.*:com.nabla.andromda.cartridges.technical..unittest:*.cartridges.*</excludePackageNames>
                                                                                -->
                                                                                
																				<doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>
																				<docletArtifact>
																						<groupId>org.umlgraph</groupId>
																						<!--
																						<artifactId>doclet</artifactId>
																						<version>${org.umlgraph.doclet.version}</version>
																						-->
																						<artifactId>umlgraph</artifactId>
																						<version>${org.umlgraph.umlgraph.version}</version>
																				</docletArtifact>
																				<useStandardDocletOptions>true</useStandardDocletOptions>
																				<additionalparam>-views</additionalparam>												
																				<additionalparam>-operations</additionalparam>
																				<additionalparam>-qualify</additionalparam>
																				<additionalparam>-types</additionalparam>
																				<additionalparam>-visibility</additionalparam>
																				<additionalparam>-collpackages</additionalparam>
                                                                        </configuration>  
                                                                        <!--    
																		<dependencies>
																		    <dependency>
																				<groupId>org.umlgraph</groupId>
																				<artifactId>umlgraph</artifactId>
																				<version>${org.umlgraph.umlgraph.version}</version>
																		    </dependency>  
																		    <dependency>
																				<groupId>org.codehaus.mojo</groupId>
																				<artifactId>clirr-maven-plugin</artifactId>
																				<version>${maven.clirr.plugin.version}</version>
																		    </dependency>
																			<dependency>
																				<groupId>com.nabla.project</groupId>
																				<artifactId>build-tools</artifactId>
																				<version>1.0.1-SNAPSHOT</version>
																			</dependency>										  
																		</dependencies>	    
																		-->                                                                                                                                                                                                                 
                                                                </plugin>

                                                                <!-- *** GENERATION DES SOURCES NAVIGABLES EN HTML *** -->
                                                                <!-- Source code cross-reference -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-jxr-plugin</artifactId>
                                                                        <version>${maven.jxr.plugin.version}</version>
                                                                        <configuration>
                                                                                <linkJavadoc>true</linkJavadoc>
                                                                                <aggregate>true</aggregate>
                                                                                <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
                                                                                <outputEncoding>${project.build.sourceEncoding}</outputEncoding>
                                                                        </configuration>
                                                                </plugin>

                                                                <!-- Comment gerer un rapport des tags -->
                                                                <!-- taglist must be after dashboard and jxr in order to avoid error -->
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>taglist-maven-plugin</artifactId>
                                                                        <version>${maven.taglist.plugin.version}</version>
                                                                        <configuration>
                                                                                <charset>${project.build.sourceEncoding}</charset>
                                                                                <docencoding>${project.build.sourceEncoding}</docencoding>
                                                                                <encoding>${project.build.sourceEncoding}</encoding>
                                                                                <tagListOptions>
                                                                                        <tagClasses>
                                                                                                <tagClass>
                                                                                                        <displayName>Todo Work</displayName>
                                                                                                        <tags>
                                                                                                                <tag>
                                                                                                                        <matchString>todo</matchString>
                                                                                                                        <matchType>ignoreCase</matchType>
                                                                                                                </tag>
                                                                                                                <tag>
                                                                                                                        <matchString>FIXME</matchString>
                                                                                                                        <matchType>exact</matchType>
                                                                                                                </tag>
                                                                                                                <tag>
                                                                                                                        <matchString>XXX</matchString>
                                                                                                                        <matchType>exact</matchType>
                                                                                                                </tag>
                                                                                                                <tag>
                                                                                                                        <matchString>@deprecated</matchString>
                                                                                                                        <matchType>exact</matchType>
                                                                                                                </tag>
                                                                                                        </tags>
                                                                                                </tagClass>
                                                                                        </tagClasses>
                                                                                </tagListOptions>
                                                                        </configuration>
                                                                </plugin>
                                                                <!-- Comment verifier la qualitee code avec checkstyle ou PMD -->
                                                                <!-- *** GENERATION CHECKSTYLE *** -->
                                                                <!-- Checkstyle plug-in -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-checkstyle-plugin</artifactId>
                                                                        <version>${maven.checkstyle.plugin.version}</version>
																		<configuration>
																			<linkXref>true</linkXref>
																			<charset>${project.build.sourceEncoding}</charset>
																			<docencoding>${project.build.sourceEncoding}</docencoding>
																			<encoding>${project.build.sourceEncoding}</encoding>
																			<includeTestSourceDirectory>true</includeTestSourceDirectory>
																			<configLocation>project/checkstyle_checks.xml</configLocation>
																			<headerLocation>project/LICENSE-1.0.txt</headerLocation>
									<!--
																			<configLocation>${home.dir}/build-tools/src/main/resources/project/checkstyle_checks.xml</configLocation>
																			<headerLocation>${home.dir}/build-tools/src/main/resources/project/LICENSE-1.0.txt</headerLocation>
									-->
																			<propertyExpansion>projectname=nabla</propertyExpansion>
																			<excludes>**/generated/**/*</excludes>
																			<excludes>**/clover/**/*</excludes>
																		</configuration>	
																		<!--
																		<dependencies>
																			<dependency>
																				<groupId>com.nabla.project</groupId>
																				<artifactId>build-tools</artifactId>
																				<version>1.0.1-SNAPSHOT</version>
																			</dependency>										  
																		</dependencies>	    
																		-->
                                                                </plugin>

                                                                <!-- *** GENERATION PMD *** -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-pmd-plugin</artifactId>
                                                                        <version>${maven.pmd.plugin.version}</version>
                                                                        <configuration>
                                                                                <linkXref>true</linkXref>
                                                                                <sourceEncoding>${project.build.sourceEncoding}</sourceEncoding>
                                                                                <minimumTokens>100</minimumTokens>
                                                                                <targetJdk>${jdkLevel}</targetJdk>
                                                                                <excludes>
                                                                                        <exclude>**/*Bean.java</exclude>
                                                                                        <exclude>**/generated/*.java</exclude>
                                                                                </excludes>
                                                                                <excludeRoots>
                                                                                        <excludeRoot>${basedir}/${target.dir}/generated-sources/stubs</excludeRoot>
                                                                                </excludeRoots>

										<!--
                                                                                <rulesets>
                                                                                         <ruleset>project/pmd_regles_nabla.xml</ruleset> 
                                                                                </rulesets>
                                                                                -->
                                                                        </configuration>
                                                                        <!--
																		<dependencies>
																			<dependency>
																				<groupId>com.nabla.project</groupId>
																				<artifactId>build-tools</artifactId>
																				<version>1.0.1-SNAPSHOT</version>
																			</dependency>										  
																		</dependencies>      
																		-->                                                                  
                                                                </plugin>

                                                                <!-- *** GENERATION FINDBUGS *** -->
                                                                <!-- Java Heap Space possible si trop de source a analyser -->
                                                                <!-- TODO Does not work with JAVA 8
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>findbugs-maven-plugin</artifactId>
                                                                        <version>${maven.findbugs.plugin.version}</version>
                                                                        <configuration>                                                                                 
																				<findbugsXmlOutput>true</findbugsXmlOutput>                                                                          												<findbugsXmlOutput>true</findbugsXmlOutput>
																				<findbugsXmlWithMessages>true</findbugsXmlWithMessages>
																				<xmlOutput>true</xmlOutput>
																				<fork>${maven.compiler.fork}</fork>
																				<threshold>High</threshold>
																				<effort>Default</effort>
																				<failOnError>false</failOnError>
																				<excludeFilterFile>project/findbugs-exclude-filters.xml</excludeFilterFile>
																				<maxHeap>1024</maxHeap>
																				<timeout>1200000</timeout>
                                                                        </configuration>
																		<dependencies>
																			<dependency>
																				<groupId>com.nabla.project</groupId>
																				<artifactId>build-tools</artifactId>
																				<version>1.0.1-SNAPSHOT</version>
																			</dependency>										  
																		</dependencies>                                                                        
                                                                </plugin>
                                                                -->

                                                                <!-- Comment analyser les metriques avec JDepend -->
                                                                <!-- TODO does not work jdepend:generate -->
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>jdepend-maven-plugin</artifactId>
                                                                        <version>${maven.jdepend.plugin.version}</version>
                                                                </plugin>

                                                                <!-- TODO javancss:report does not work -->
                                                                <!-- it does not work with java 7 syntax
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>javancss-maven-plugin</artifactId>
                                                                        <version>${maven.javancss.plugin.version}</version>
																		<configuration>
																		-->
                                                                        <!--
                                                                          <failOnViolation>true</failOnViolation>
                                                                          <ccnLimit>12</ccnLimit>
                                                                          <ncssLimit>90</ncssLimit>
                                                                        -->						
                                                                        <!--							
																		   <excludes>
																			  <exclude>**/generated/**/*</exclude>
																			  <exclude>**/clover/**/*</exclude>
																			  <exclude>**/Visma.java</exclude>
																			</excludes>
																		</configuration>                                                                        
                                                                </plugin>
                                                                -->

                                                                <!--
                                                                <plugin>
                                                                    <groupId>org.codehaus.mojo</groupId>
                                                                    <artifactId>versions-maven-plugin</artifactId>
                                                                    <version>${maven.versions.plugin.version}</version>
                                                                    <reportSets>
                                                                        <reportSet>
                                                                          <reports>
                                                                            <report>dependency-updates-report</report>
                                                                            <report>plugin-updates-report</report>
                                                                            <report>property-updates-report</report>
                                                                          </reports>
                                                                        </reportSet>
                                                                    </reportSets>
                                                                </plugin>
                                                                -->

                                                                <!-- Comment gerer un rapport de couverture des tests -->
                                                                <!-- Code Coverage by Cobertura -->
                                                                <!-- TODO doesn not work with JAVA 8
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>cobertura-maven-plugin</artifactId>
                                                                        <version>${maven.cobertura.plugin.version}</version>
                                                                        <configuration>
																				-->
                                                                                <!--<aggregate>true</aggregate>-->
                                                                                <!--
                                                                                <formats>
                                                                                        <format>xml</format>
                                                                                        <format>html</format>
                                                                                </formats>
                                                                        </configuration>
                                                                </plugin>
                                                                -->

                                                                <!-- dashboard must be done at the end in order to have a complete report -->
<!--
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>dashboard-maven-plugin</artifactId>
                                                                        <version>${maven.dashboard.plugin.version}</version>
                                                                </plugin>
-->
                                                                <plugin>
                                                                        <groupId>com.atlassian.maven.plugins</groupId>
                                                                        <artifactId>maven-clover2-plugin</artifactId>
                                                                        <version>${maven.clover.plugin.version}</version>
                                                                        <configuration>
                                                                                <jdk>${clover.jdkLevel}</jdk>
                                                                                <generateXml>true</generateXml>
                                                                                <generatePdf>true</generatePdf>
                                                                                <generateHtml>true</generateHtml>
                                                                                <!--<generateHistorical>true</generateHistorical>-->
                                                                        </configuration>
                                                                </plugin>
                                                                
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-doap-plugin</artifactId>
                                                                        <version>${maven.doap.plugin.version}</version>
                                                                        <configuration>
                                                                                <doapOptions>
                                                                                        <programmingLanguage>java</programmingLanguage>
                                                                                        <category>build-management</category>
                                                                                </doapOptions>
                                                                                <asfExtOptions>
                                                                                        <included>false</included>
                                                                                </asfExtOptions>
                                                                        </configuration>
                                                                </plugin>

                                                                <!-- Compare APIs to a previous version, uncomment when a release version exists -->
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>clirr-maven-plugin</artifactId>
                                                                        <version>${maven.clirr.plugin.version}</version>
                                                                        <configuration>
                                                                                <minSeverity>info</minSeverity>
                                                                        </configuration>
                                                                </plugin>                                                                  
                                                                
																<plugin>
																  <groupId>de.smartics.maven.plugin</groupId>
																  <artifactId>maven-buildmetadata-plugin</artifactId>
																  <version>${maven.buildmetadata.plugin.version}</version>
																</plugin>
																<!--
																<plugin>
																  <groupId>org.codehaus.sonar-plugins</groupId>
																  <artifactId>maven-report</artifactId>
																  <version>${maven.sonar.report.plugin.version}</version>
																</plugin>
																-->
                                                        </reportPlugins>
                                                </configuration>
                                                <dependencies>
                                                        
                                                        <dependency>
                                                                <groupId>org.apache.maven.skins</groupId>
                                                                <artifactId>maven-default-skin</artifactId>
                                                                <version>${maven.default.skin.version}</version>
                                                        </dependency>
                                                        
                                                        <!--
                                                        <dependency>
                                                                <groupId>com.nabla.project</groupId>
                                                                <artifactId>skin</artifactId>
                                                                <version>1.0.1-SNAPSHOT</version>
                                                        </dependency>
                                                        -->
                                                        <dependency>
                                                                <groupId>org.apache.maven.doxia</groupId>
                                                                <artifactId>doxia-module-twiki</artifactId>
                                                                <version>${doxia.module.twiki.version}</version>
                                                        </dependency>
                                                </dependencies>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-dependency-plugin</artifactId>
                                                <version>${maven.dependency.plugin.version}</version>
                                        </plugin>
                                        <!-- http://checkstyle.sourceforge.net -->
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-checkstyle-plugin</artifactId>
                                                <version>${maven.checkstyle.plugin.version}</version>
												<configuration>
													<linkXref>true</linkXref>
													<charset>${project.build.sourceEncoding}</charset>
													<docencoding>${project.build.sourceEncoding}</docencoding>
													<encoding>${project.build.sourceEncoding}</encoding>
													<includeTestSourceDirectory>true</includeTestSourceDirectory>
													<configLocation>project/checkstyle_checks.xml</configLocation>
													<headerLocation>project/LICENSE-1.0.txt</headerLocation>
			<!--
													<configLocation>${home.dir}/build-tools/src/main/resources/project/checkstyle_checks.xml</configLocation>
													<headerLocation>${home.dir}/build-tools/src/main/resources/project/LICENSE-1.0.txt</headerLocation>
			-->
													<propertyExpansion>projectname=nabla</propertyExpansion>
													<excludes>**/generated/**/*</excludes>
													<excludes>**/clover/**/*</excludes>
												</configuration>
												<dependencies>														
													<dependency>
															<groupId>com.nabla.project</groupId>
															<artifactId>build-tools</artifactId>
															<version>1.0.1-SNAPSHOT</version>
													</dependency>
												</dependencies>			
                                        </plugin>

                                        <!-- Delete code coverage database when 'mvn clean' is executed -->
                                        <plugin>
                                                <groupId>org.codehaus.mojo</groupId>
                                                <artifactId>cobertura-maven-plugin</artifactId>
                                                <version>${maven.cobertura.plugin.version}</version>
                                                <configuration>
                                                        <check>
                                                                <branchRate>55</branchRate>
                                                                <lineRate>55</lineRate>
                                                                <haltOnFailure>false</haltOnFailure>
                                                                <totalBranchRate>55</totalBranchRate>
                                                                <totalLineRate>55</totalLineRate>
                                                                <packageLineRate>55</packageLineRate>
                                                                <packageBranchRate>55</packageBranchRate>
                                                                <regexes>
                                                                        <regex>
                                                                                <pattern>${application.package}.*</pattern>
                                                                                <branchRate>90</branchRate>
                                                                                <lineRate>80</lineRate>
                                                                        </regex>
                                                                        <regex>
                                                                                <pattern>org.andromda.test.*</pattern>
                                                                                <branchRate>40</branchRate>
                                                                                <lineRate>30</lineRate>
                                                                        </regex>
                                                                </regexes>
                                                        </check>
                                                </configuration>
												<executions>
													<execution>
														<goals>
														  <goal>clean</goal>
														  <!--<goal>check</goal> comment to avoid running tests twice-->
														</goals>
													  </execution>
												</executions>
                                        </plugin>
                                        <!--
                                        <plugin>
                                                <groupId>org.codehaus.mojo</groupId>
                                                <artifactId>dashboard-maven-plugin</artifactId>
                                                <version>${maven.dashboard.plugin.version}</version>
                                                <configuration>
                                                        <dialect>org.hibernate.dialect.DerbyDialect</dialect>
                                                        <driverClass>org.apache.derby.jdbc.ClientDriver</driverClass>
                                                        <connectionUrl>jdbc:derby://localhost:1527/myDB;create=true</connectionUrl>
                                                        <username>usr</username>
                                                        <password>usr</password>
                                                        <configLocation>project/myDashboardConfig.xml</configLocation>
                                                        <keepVersionAsDiscriminantCriteria>false</keepVersionAsDiscriminantCriteria>
                                                </configuration>
                                                <dependencies>
                                                        <dependency>
                                                                <groupId>org.apache.derby</groupId>
                                                                <artifactId>derbyclient</artifactId>
                                                                <version>${jdbc.derby.version}</version>
                                                        </dependency>
                                                        -->
                                                        <!--
                                                        <dependency>
                                                                <groupId>org.apache.derby</groupId>
                                                                <artifactId>derby</artifactId>
                                                                <version>${jdbc.derby.version}</version>
                                                                <scope>compile</scope>
                                                        </dependency>
                                                        <dependency>
                                                                <groupId>org.apache.derby</groupId>
                                                                <artifactId>derbytools</artifactId>
                                                                <version>${jdbc.derby.version}</version>
                                                                <scope>compile</scope>
                                                        </dependency>
                                                        <dependency>
                                                                <groupId>org.apache.derby</groupId>
                                                                <artifactId>derbynet</artifactId>
                                                                <version>${jdbc.derby.version}</version>
                                                                <scope>compile</scope>
                                                        </dependency>
                                                        <dependency>
                                                                <groupId>com.nabla.project</groupId>
                                                                <artifactId>build-tools</artifactId>
                                                                <version>1.0.1-SNAPSHOT</version>
                                                        </dependency>
                                                        -->
                                                        <!--
                                                        <dependency>
                                                                <groupId>commons-logging</groupId>
                                                                <artifactId>commons-logging</artifactId>
                                                                <version>${commons.logging.version}</version>
                                                        </dependency>
                                                </dependencies>
                                        </plugin>
                                        -->
                                        <plugin>
                                                <groupId>org.codehaus.mojo</groupId>
                                                <artifactId>taglist-maven-plugin</artifactId>
                                                <version>${maven.taglist.plugin.version}</version>
                                        </plugin>
                                        <!--
                                        <plugin>
                                                <groupId>com.atlassian.maven.plugins</groupId>
                                                <artifactId>maven-clover2-plugin</artifactId>
                                                <version>${maven.clover.plugin.version}</version>
                                                <configuration>
                                                    <flushPolicy>threaded</flushPolicy>
                                                    <flushInterval>100</flushInterval>
                                                    -->
                                                    <!--<targetPercentage>25%</targetPercentage>-->
                                                    <!--
                                                </configuration>
                                                <executions>
                                                    <execution>
                                                        <id>main</id>
                                                        <phase>verify</phase>
                                                        <goals>
                                                            <goal>instrument</goal>
                                                            <goal>aggregate</goal>
                                                            <goal>check</goal>
                                                            <goal>log</goal>
                                                        </goals>
                                                    </execution>
                                                    <execution>
                                                        <id>site</id>
                                                        <phase>pre-site</phase>
                                                        <goals>
                                                            <goal>instrument</goal>
                                                            <goal>aggregate</goal>
                                                            -->
                                                            <!-- We save a history point in order to have data to generate a historical report -->
                                                            <!--
                                                            <goal>save-history</goal>
                                                        </goals>
                                                    </execution>
                                                </executions>
                                        </plugin>
                                        -->
										<plugin>
										  <groupId>de.smartics.maven.plugin</groupId>
										  <artifactId>maven-buildmetadata-plugin</artifactId>
										  <version>${maven.buildmetadata.plugin.version}</version>
										</plugin>                                          
                                </plugins>
                        </build>
                </profile>
                <profile>
                        <id>validation</id>                        
                        <activation>
                                <property>
                                        <name>env</name>
                                        <value>val</value>
                                </property>
                        </activation>
                        <properties>
                                <environment>validation</environment>
                                <!--<jdbc.driver.jar /> <jdbc.driver /> <jdbc.url /> <jdbc.username/> <jdbc.password /> <jdbc.exception.sorter /> <webservice.host /> <webservice.port/> -->
                        </properties>
                </profile>
                <profile>
                        <id>homologation</id>
                        <activation>
                                <property>
                                        <name>env</name>
                                        <value>hom</value>
                                </property>
                        </activation>
                        <properties>
                                <environment>homologation</environment>
                                <!--<jdbc.driver.jar /> <jdbc.driver /> <jdbc.url /> <jdbc.username/> <jdbc.password /> <jdbc.exception.sorter /> <webservice.host /> <webservice.port/> -->
                        </properties>
                </profile>
                <profile>
                        <id>production</id>
                        <activation>
                                <property>
                                        <name>env</name>
                                        <value>prod</value>
                                </property>
                        </activation>
                        <properties>
                                <environment>production</environment>
                                <!--<jdbc.driver.jar /> <jdbc.driver /> <jdbc.url /> <jdbc.username/> <jdbc.password /> <jdbc.exception.sorter /> <webservice.host /> <webservice.port/> -->
                        </properties>
                </profile>
                <profile>
                        <id>release</id>
                        <activation>
                                <property>
                                        <name>env</name>
                                        <value>rel</value>
                                </property>
                        </activation>
                        <properties>
                                <environment>release</environment>
                                <maven.javadoc.skip>false</maven.javadoc.skip>
                        </properties>                          
                        <build>
                                <plugins>
                                        <plugin>
                                            <groupId>org.apache.maven.plugins</groupId>
                                            <artifactId>maven-compiler-plugin</artifactId>
                                            <version>${maven.compiler.plugin.version}</version>
                                            <configuration>
                                                <optimize>true</optimize>
                                                <debug>true</debug>
                                            </configuration>
                                        </plugin>
                                        <!-- TODO
                                        <plugin>
                                            <groupId>org.apache.maven.plugins</groupId>
                                            <artifactId>maven-gpg-plugin</artifactId>
                                            <version>${maven.gpg.plugin.version}</version>
                                            <executions>
                                                <execution>
                                                    <id>sign-artifacts</id>
                                                    <phase>verify</phase>
                                                    <goals>
                                                        <goal>sign</goal>
                                                    </goals>
                                                </execution>
                                            </executions>
                                        </plugin>
                                        -->
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-javadoc-plugin</artifactId>
                                                <version>${maven.javadoc.plugin.version}</version>
                                                <inherited>true</inherited>
                                                <executions>
                                                        <execution>
                                                                <id>attach-javadocs</id>
                                                                <phase>post-integration-test</phase>
                                                                <goals>
                                                                        <goal>jar</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-deploy-plugin</artifactId>
                                                <version>${maven.deploy.plugin.version}</version>
                                                <inherited>true</inherited>
                                                <configuration>
                                                        <updateReleaseInfo>true</updateReleaseInfo>
                                                </configuration>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.rat</groupId>
                                                <artifactId>apache-rat-plugin</artifactId>
                                                <version>${maven.apache.rat.plugin.version}</version>
                                                <executions>
                                                        <execution>
                                                                <phase>verify</phase>
                                                                <goals>
                                                                        <goal>check</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                                <configuration>
                                                        <reportFile>${project.build.directory}/${project.build.finalName}.rat</reportFile>
                                                        <excludes>
                                                                <exclude>**/target/**/*</exclude>
                                                                <exclude>**/target-eclipse/**/*</exclude>
                                                                <exclude>**/lib/**/*</exclude>
                                                                <!--
                                                                <exclude>**/*.checkstyle</exclude>
                                                                <exclude>**/*.springBean</exclude>
                                                                -->
                                                                <exclude>**/*.bat</exclude>
                                                                <exclude>**/cobertura.ser</exclude>
                                                                <exclude>**/derby.log</exclude>
                                                                <exclude>**/camel-ftp/res/**/*</exclude>
                                                                <exclude>**/*.iml</exclude>
                                                                <exclude>**/*.ipr</exclude>
                                                                <exclude>**/*.iws</exclude>
                                                                <exclude>**/.*</exclude>
                                                                <exclude>**/pom.*</exclude>
                                                                <exclude>**/eclipse-classes/**/*</exclude>
                                                        </excludes>
                                                </configuration>
                                        </plugin>
                                        <!--
                                        <plugin>
                                                <groupId>org.codehaus.mojo</groupId>
                                                <artifactId>rat-maven-plugin</artifactId>
                                                <version>${maven.rat.plugin.version}</version>
                                                <executions>
                                                        <execution>
                                                                <phase>verify</phase>
                                                                <goals>
                                                                        <goal>check</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                                <configuration>
                                                        <reportFile>${project.build.directory}/${project.build.finalName}.rat</reportFile>
                                                        <excludes>
                                                                <exclude>**/target/**/*</exclude>
                                                                <exclude>**/target-eclipse/**/*</exclude>
                                                                <exclude>**/lib/**/*</exclude>
                                                                <exclude>**/*.checkstyle</exclude>
                                                                <exclude>**/*.springBean</exclude>
                                                                <exclude>**/*.bat</exclude>
                                                                <exclude>**/cobertura.ser</exclude>
                                                                <exclude>**/derby.log</exclude>
                                                                <exclude>**/camel-ftp/res/**/*</exclude>
                                                                <exclude>**/*.iml</exclude>
                                                                <exclude>**/*.ipr</exclude>
                                                                <exclude>**/*.iws</exclude>
                                                                <exclude>**/.*</exclude>
                                                                <exclude>**/eclipse-classes/**/*</exclude>
                                                        </excludes>
                                                </configuration>
                                        </plugin>
                                        -->
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-site-plugin</artifactId>
                                                <version>${maven.site.plugin.version}</version>
                                                <executions>
                                                        <execution>
                                                                <id>attach-descriptor</id>
                                                                <goals>
                                                                        <goal>attach-descriptor</goal>
                                                                </goals>
                                                        </execution>
                                                </executions>
                                                <configuration>
                                                        <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
                                                        <outputEncoding>${project.build.sourceEncoding}</outputEncoding>

                                                        <locales>en</locales>
                                                        <!--<locales>en,fr</locales> -->
                                                        <excludeModules>build-tools</excludeModules>
                                                        <excludeModules>skin</excludeModules>
                                                        <!--<siteDirectory>${basedir}/site/src/site</siteDirectory>-->
                                                        <port>${server.port}</port>

                                                        <reportPlugins>
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-project-info-reports-plugin</artifactId>
                                                                        <version>${maven.project.info.reports.plugin.version}</version>
                                                                        <configuration>
                                                                                <dependencyDetailsEnabled>false</dependencyDetailsEnabled>
                                                                                <dependencyLocationsEnabled>false</dependencyLocationsEnabled>
                                                                        </configuration>
                                                                </plugin>
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-plugin-plugin</artifactId>
                                                                        <version>${maven.plugin.plugin.plugin.version}</version>
                                                                </plugin>
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-surefire-report-plugin</artifactId>
                                                                        <version>${maven.surefire.plugin.version}</version>
                                                                        <!--
                                                                        <configuration>
                                                                                <aggregate>true</aggregate>
                                                                        </configuration>
                                                                        -->
                                                                </plugin>

                                                                <!-- Add this plug-ins only if you use SCM -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-changes-plugin</artifactId>
                                                                        <version>${maven.changes.plugin.version}</version>
                                                                        <reportSets>
                                                                                <reportSet>
                                                                                        <reports>
                                                                                                <report>changes-report</report>
                                                                                                <!-- Uncomment if using JIRA -->
																								<!--report>jira-report</report-->
                                                                                        </reports>
                                                                                </reportSet>
                                                                        </reportSets>
                                                                        <configuration>
                                                                                <columnNames>Key,Type,Summary,Assignee,Status,Resolution,Priority,Component</columnNames>
                                                                                <sortColumnNames>Key</sortColumnNames>
                                                                        </configuration>
                                                                </plugin>
                                                                <!-- Add this plug-ins only if you use SCM -->

                                                                <!-- Developer activity (last 6 months) -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-changelog-plugin</artifactId>
                                                                        <version>${maven.changelog.plugin.version}</version>
                                                                        <reportSets>
                                                                                <reportSet>
                                                                                        <id>dual-report</id>
                                                                                        <configuration>
                                                                                                <type>range</type>
                                                                                                <range>90</range>
                                                                                                <dateFormat>yyyy-MM-dd HH:mm:ss</dateFormat>
                                                                                        </configuration>
                                                                                        <reports>
                                                                                                <report>changelog</report>
                                                                                                <report>file-activity</report>
                                                                                                <report>dev-activity</report>
                                                                                        </reports>
                                                                                </reportSet>
                                                                        </reportSets>
                                                                </plugin>
                                                                <!-- *** GENERATION JAVADOC *** -->
                                                                <!-- Javadoc settings -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-javadoc-plugin</artifactId>
                                                                        <version>${maven.javadoc.plugin.version}</version>
                                                                        <reportSets>
                                                                                <!--
                                                                                <reportSet>
                                                                                        <id>non-aggregate</id>
                                                                                        <configuration>
                                                                                                <doctitle>Nabla API for ${project.name} ${project.version}</doctitle>
                                                                                                <windowtitle>Nabla API for ${project.name} ${project.version}</windowtitle>
                                                                                                <testDoctitle>Nabla Test API for ${project.name} ${project.version}</testDoctitle>
                                                                                                <testWindowtitle>Nabla Test API for ${project.name} ${project.version}</testWindowtitle>
                                                                                        </configuration>
                                                                                        <reports>
                                                                                                <report>javadoc</report>
                                                                                        </reports>
                                                                                </reportSet>
                                                                                -->

                                                                                <!-- TODO deactivate if mvn site is too slow -->
                                                                                <reportSet>
                                                                                        <id>aggregate</id>
                                                                                        <configuration>
                                                                                                <doctitle>Nabla Aggregate API for ${project.name} ${project.version}</doctitle>
                                                                                                <windowtitle>Nabla Aggregate API for ${project.name} ${project.version}</windowtitle>
                                                                                                <testDoctitle>Nabla Aggregate Test API for ${project.name} ${project.version}</testDoctitle>
                                                                                                <testWindowtitle>Nabla Aggregate Test API for ${project.name} ${project.version}</testWindowtitle>
                                                                                                <tags>
                                                                                                        <tag>
                                                                                                                <name>date</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>date</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>version.interne</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>version interne</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>todo</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>To Do:</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>note</name>
                                                                                                                <placement>a</placement>
                                                                                                                <head>Note:</head>
                                                                                                        </tag>
                                                                                                        <tag>
                                                                                                                <name>opt</name>
                                                                                                                <placement>X</placement>
                                                                                                                <head>opt:</head>
                                                                                                        </tag>
                                                                                                </tags>
                                                                                        </configuration>
                                                                                        <reports>
                                                                                                <report>aggregate</report>
                                                                                        </reports>
                                                                                </reportSet>
                                                                        </reportSets>
                                                                        <configuration>
                                                                                <!-- Default configuration for all reports -->
                                                                                <excludePackageNames>*.ejb.*</excludePackageNames>
                                                                                <groups>
                                                                                        <group>
                                                                                                <title>Database</title>
                                                                                                <packages>${application.package}.db*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Model</title>
                                                                                                <packages>${application.package}.model*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Uml</title>
                                                                                                <packages>${application.package}.uml.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Application</title>
                                                                                                <packages>${application.package}.application.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Validation</title>
                                                                                                <packages>${application.package}.validation.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Service</title>
                                                                                                <packages>${application.package}.service.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Realtime Service</title>
                                                                                                <packages>${application.package}.realtime.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Corba</title>
                                                                                                <packages>${application.package}.corba.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Tool</title>
                                                                                                <packages>${application.package}.tool.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Common Service</title>
                                                                                                <packages>${application.package}.common.service*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Common</title>
                                                                                                <packages>${application.package}.common.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Utils</title>
                                                                                                <packages>${application.package}.utils.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Mask</title>
                                                                                                <packages>${application.package}.mask.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Mask implementation</title>
                                                                                                <packages>${application.package}.mask_impl.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Gui</title>
                                                                                                <packages>${application.package}.gui.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Choice</title>
                                                                                                <packages>${application.package}.choice.*</packages>
                                                                                        </group>
                                                                                        <group>
                                                                                                <title>Examples</title>
                                                                                                <packages>com.nabla.samples.*:com.nabla.demo.*:org.andromda.test.*</packages>
                                                                                        </group>
                                                                                </groups>

																				<stylesheetfile>project/javadoc-stylesheet.css</stylesheetfile>
                                                                                <!--<stylesheet>maven</stylesheet>-->
                                                                                <!--
                                                                                        <minmemory>128m</minmemory> <maxmemory>512m</maxmemory>
                                                                                -->
                                                                                <!--
                                                                                <minmemory>128m</minmemory>
                                                                                <maxmemory>2g</maxmemory>
                                                                                <maxmemory>512m</maxmemory>
                                                                                <maxmemory>1548m</maxmemory>
                                                                                -->
                                                                                <!--
																				<show>package</show>
																				<show>private</show>
																				--> 	
                                                                                <show>public</show>
                                                                                <version>true</version>
                                                                                <javadocVersion>${jdkLevel}</javadocVersion>
                                                                                <failOnError>false</failOnError>
                                                                                <linksource>true</linksource>
                                                                                <serialwarn>true</serialwarn>
                                                                                <detectLinks>false</detectLinks>
                                                                                <detectOfflineLinks>false</detectOfflineLinks>

                                                                                <charset>${project.build.sourceEncoding}</charset>
                                                                                <docencoding>${project.build.sourceEncoding}</docencoding>
                                                                                <encoding>${project.build.sourceEncoding}</encoding>
                                                                                
                                                                                <!--
                                                                                <doclet>gr.spinellis.umlgraph.doclet.UmlGraphDoc</doclet>
                                                                                <docletArtifact>
                                                                                        <groupId>gr.spinellis</groupId>
                                                                                        <artifactId>UmlGraph</artifactId>
                                                                                        <version>${gr.spinellis.UmlGraph.version}</version>
                                                                                </docletArtifact>
                                                                                <additionalparam> -inferrel -inferdep -quiet -hide java.* -hide
                                                                                        com.nabla.gui.* -collpackages java.util.* -collpackages
                                                                                        com.nabla.logical.*
                                                                                        -collpackages
                                                                                        com.nabla.utils.* -qualify
                                                                                        -postfixpackage
                                                                                        -nodefontsize 9 -nodefontpackagesize 7
                                                                                        -outputencoding utf8</additionalparam>
                                                                                <excludePackageNames>com.nabla.andromda.cartridges.technical.karma.*:com.nabla.andromda.cartridges.technical..unittest:*.cartridges.*</excludePackageNames>
                                                                                -->
                                                                                
  																				<doclet>org.umlgraph.doclet.UmlGraphDoc</doclet>
																				<docletArtifact>
																						<groupId>org.umlgraph</groupId>
																						<!--
																						<artifactId>doclet</artifactId>
																						<version>${org.umlgraph.doclet.version}</version>
																						-->
																						<artifactId>umlgraph</artifactId>
																						<version>${org.umlgraph.umlgraph.version}</version>
																				</docletArtifact>
																				<useStandardDocletOptions>true</useStandardDocletOptions>
																				<additionalparam>-views</additionalparam>												
																				<additionalparam>-operations</additionalparam>
																				<additionalparam>-qualify</additionalparam>
																				<additionalparam>-types</additionalparam>
																				<additionalparam>-visibility</additionalparam>
																				<additionalparam>-collpackages</additionalparam>
                                                                        </configuration>
                                                                </plugin>

                                                                <!-- *** GENERATION DES SOURCES NAVIGABLES EN HTML *** -->
                                                                <!-- Source code cross-reference -->
                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-jxr-plugin</artifactId>
                                                                        <version>${maven.jxr.plugin.version}</version>
                                                                        <configuration>
                                                                                <linkJavadoc>true</linkJavadoc>
                                                                                <aggregate>true</aggregate>
                                                                                <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
                                                                                <outputEncoding>${project.build.sourceEncoding}</outputEncoding>
                                                                        </configuration>
                                                                </plugin>

                                                                <!--
                                                                <plugin>
                                                                    <groupId>org.codehaus.mojo</groupId>
                                                                    <artifactId>versions-maven-plugin</artifactId>
                                                                    <version>${maven.versions.plugin.version}</version>
                                                                    <reportSets>
                                                                        <reportSet>
                                                                          <reports>
                                                                            <report>dependency-updates-report</report>
                                                                            <report>plugin-updates-report</report>
                                                                            <report>property-updates-report</report>
                                                                          </reports>
                                                                        </reportSet>
                                                                    </reportSets>
                                                                </plugin>
                                                                -->

                                                                <plugin>
                                                                        <groupId>org.apache.maven.plugins</groupId>
                                                                        <artifactId>maven-doap-plugin</artifactId>
                                                                        <version>${maven.doap.plugin.version}</version>
                                                                        <configuration>
                                                                                <doapOptions>
                                                                                        <programmingLanguage>java</programmingLanguage>
                                                                                        <category>build-management</category>
                                                                                </doapOptions>
                                                                                <asfExtOptions>
                                                                                        <included>false</included>
                                                                                </asfExtOptions>
                                                                        </configuration>
                                                                </plugin>

                                                                <!-- Compare APIs to a previous version, uncomment when a release version exists -->
                                                                <plugin>
                                                                        <groupId>org.codehaus.mojo</groupId>
                                                                        <artifactId>clirr-maven-plugin</artifactId>
                                                                        <version>${maven.clirr.plugin.version}</version>
                                                                        <configuration>
                                                                                <minSeverity>info</minSeverity>
                                                                        </configuration>
                                                                </plugin>                                                                
                                                        </reportPlugins>
                                                </configuration>
                                                <dependencies>
                                                        <!--
                                                        <dependency>
                                                                <groupId>org.apache.maven.skins</groupId>
                                                                <artifactId>maven-default-skin</artifactId>
                                                                <version>${maven.default.skin.version}</version>
                                                        </dependency>
                                                        -->
                                                        <dependency>
                                                                <groupId>com.nabla.project</groupId>
                                                                <artifactId>skin</artifactId>
                                                                <version>1.0.1-SNAPSHOT</version>
                                                        </dependency>
                                                        <dependency>
                                                                <groupId>org.apache.maven.doxia</groupId>
                                                                <artifactId>doxia-module-twiki</artifactId>
                                                                <version>${doxia.module.twiki.version}</version>
                                                        </dependency>
                                                </dependencies>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-dependency-plugin</artifactId>
                                                <version>${maven.dependency.plugin.version}</version>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.codehaus.mojo</groupId>
                                                <artifactId>clirr-maven-plugin</artifactId>
                                                <version>${maven.clirr.plugin.version}</version>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-changelog-plugin</artifactId>
                                                <version>${maven.changelog.plugin.version}</version>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-scm-plugin</artifactId>
                                                <version>${maven.scm.plugin.version}</version>
                                        </plugin>
                                        <plugin>
                                                <groupId>org.apache.maven.plugins</groupId>
                                                <artifactId>maven-jxr-plugin</artifactId>
                                                <version>${maven.jxr.plugin.version}</version>
                                        </plugin>
                                </plugins>
                        </build>
                </profile>
                <!-- ================= END Environment Profiles ================= -->

        </profiles>

</project>
